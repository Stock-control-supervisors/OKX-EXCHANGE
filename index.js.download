(()=>{var t={6548:(t,e,n)=>{var o=n(2712),r=o.injectChatbot,i=o.injectSpinnerStyle;t.exports=function(t){t.addEventListener("click",(function e(n){n.preventDefault(),t.setAttribute("data-open-chat-on-load","true"),t.setAttribute("class","cs-loading"),i(t.id),r((function(){t.removeEventListener("click",e),setTimeout((function(){t.setAttribute("class","")}),4e3)}))}))}},2503:(t,e,n)=>{var o=n(42),r=o.isSubstring,i=o.isCsBlacklistedPage,a=o.getOkGlobal;t.exports={isOkLink:function(){return r(window.location.hostname,"oklink.com")},isBlacklisted:function(){return i(window.location.pathname)},isApp:function(){return Boolean(a().isApp)},isChatPage:function(){return r(window.location.pathname,"support-center/chat")},isSupportCenter:function(){return new RegExp("/help$").test(window.location.pathname)},isContactUsPage:function(){return new RegExp("/contact-us.html$").test(window.location.pathname)},isContextualStart:function(){return r(window.location.href,"chatbot_toggle=true")}}},3249:t=>{t.exports={CS_BLACKLIST:["/what-is-okx-contest",{path:"/trade",exact:!0},"/trade-spot",{path:"/trade-option/simple",exact:!0},"/trade-option-simple","/trade-chart","/trade-chart-3","/trade-chart-4","/trade-swap","/trade-futures","/trade-margin","/trade-option","/trade-spot-strategy","/download","/derivatives/swap/full","/derivatives/futures/full","/liquid-marketplace","/explorer"],BUTTON_ID:"ok-cs-button",MESSAGE_CHANNEL:{INCOMING:"global_chatbot_toggled",OUTGOING:"global_chatbot_toggled_internal"}}},2712:(t,e,n)=>{var o=n(42),r=o.getOkGlobal,i=o.checkIsVipUser,a=!1;function c(){var t=document.createElement("link");t.setAttribute("id","ok-chatbot-css"),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","".concat(r().versionUrls.customerService,"/index.css")),document.head.appendChild(t)}function s(t){var e=document.createElement("script");e.setAttribute("id","ok-chatbot-script"),e.setAttribute("async",""),e.setAttribute("crossorigin",""),e.setAttribute("src","".concat(r().versionUrls.customerService,"/index.js")),"function"===typeof t&&(e.onload=t),document.body.appendChild(e)}function l(){var t=document.createElement("div");return t.id="cs-loader-spin",t}function d(){var t=i();return{backgroundImage:t?"/cdn/assets/imgs/2312/15B71B480B9A1A56.png":"/cdn/assets/imgs/225/B7545722CDD68A02.png",backgroundColor:t?"#ffcc49":"rgb(7,66,243)",spinnerColor:t?"#000000":"#ffffff",spinnerThickness:t?"1px":"2px",backgroundSize:t?"55%":"106%"}}t.exports={injectCSS:c,injectJS:s,injectChatbot:function(t){a||(c(),s(t),a=!0)},injectButtonMediaQueryStyle:function(t){var e=document.createElement("style"),n="@media (min-width: 768px) { #".concat(t," { display: flex; } }"),o="@media (max-width: 767px) { #".concat(t," { display: none; } }");e.innerHTML=n+o,document.head.appendChild(e)},injectSpinnerStyle:function(t){var e=d(),n=e.backgroundColor,o=e.spinnerColor,r=e.spinnerThickness,i=document.createElement("style");i.innerHTML="#cs-loader-spin {width: 22px;height: 22px;border-radius: 22px;"+"border: ".concat(r," solid ").concat(n,";")+"border-top-color: ".concat(o,";")+"border-right-color: ".concat(o,";")+"display: none;box-sizing: border-box;background-color: transparent;animation: rotation 0.5s cubic-bezier(0.29, 0.13, 0.71, 0.84) infinite;}"+"#".concat(t,".cs-loading > #cs-loader-spin { display: inline-flex; }")+"@keyframes rotation {from { transform: rotate(0deg); }to { transform: rotate(360deg); }}",document.head.appendChild(i)},createSpinner:l,createChatButton:function(t){var e=d(),n=e.backgroundImage,o=e.backgroundColor,i=e.backgroundSize,a=document.createElement("div");a.id=t;var c=document.createElement("style");c.innerHTML="#".concat(t,"{")+"display: flex;position: fixed;right: 16px;bottom: 16px;z-index: 10000;width: 44px;height: 44px;border: 0;border-radius: 50%;opacity: 1;transition: all .3s;"+"background-image: url(".concat(r().cdnBaseUrl).concat(n,");")+"background-repeat: no-repeat;"+"background-size: ".concat(i,";")+"background-position: center;"+"background-color: ".concat(o,";")+"cursor: pointer;justify-content: center;align-items: center;}"+"#".concat(t,".cs-loading { background-image: none; }");var s=l();return a.appendChild(s),document.head.appendChild(c),document.body.appendChild(a),a}}},2497:(t,e,n)=>{var o=n(42).relayMessage,r=n(2712),i=r.injectChatbot,a=r.injectButtonMediaQueryStyle,c=r.createChatButton,s=n(6548),l=n(2503),d=l.isOkLink,u=l.isBlacklisted,p=l.isApp,g=l.isChatPage,f=l.isSupportCenter,h=l.isContactUsPage,b=l.isContextualStart,m=n(3249),v=m.BUTTON_ID,k=m.MESSAGE_CHANNEL;function x(){if(!(d()||u()||p()&&!g()))if(g())i();else{o({incoming:k.INCOMING,outgoing:k.OUTGOING,onRelay:function(){i()}});var t=c(v);f()||a(v),f()||h()||b()?i():s(t)}}window.okui.expressway||(window.okui.expressway={}),window.okui.expressway.chatbotLoader=x,t.exports={loadChatbotModule:x}},42:(t,e,n)=>{var o=n(3249).CS_BLACKLIST;function r(t,e){var n="string"===typeof e?{path:e,exact:!1}:e,o=n.path,r=n.exact,i="^(?:/[a-zA-Z]{2}(?:-[a-zA-Z]{2})*)*",a=new RegExp(i+(o+"$")),c="/"===o[o.length-1]?o:o+"/",s=new RegExp(i+c);return r?a.test(t):a.test(t)||s.test(t)}function i(){return window._okGlobal||window.okGlobal}function a(){try{var t=JSON.parse(localStorage.getItem("ok_global")||"{}").profile;return void 0===t?{}:t}catch(e){return{}}}t.exports={isSubstring:function(t,e){for(var n=0;n<t.length-e.length+1;++n){for(var o=!0,r=0;r<e.length;++r)if(t[n+r]!==e[r]){o=!1;break}if(o)return!0}return!1},isCsBlacklistedPage:function(t){var e=i();if("function"===typeof(null===e||void 0===e?void 0:e.isCsBlacklistedPage))return null===e||void 0===e?void 0:e.isCsBlacklistedPage(t);for(var n=0;n<o.length;++n){if(r(t,o[n]))return!0}return!1},getOkGlobal:i,getUserProfile:a,checkIsVipUser:function(){var t=a().feeLevel,e=void 0===t?0:t;return e>=2&&e<=9},relayMessage:function(t){var e=this,n=t.incoming,o=t.outgoing,r=t.onRelay,i=window._global_message_list;if(i){var a=i[n]||(i[n]={}),c=i[o]||(i[o]={});a.receive=function(){r(),c.list||(c.list=[]);for(var t=c.receive,n="function"===typeof t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];n?t.apply(e,i):c.list.push({arg:i})}}},isPageBlacklisted:r}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}(()=>{try{if(n.miniCssF){var t=n.miniCssF;n.miniCssF=function(e){var n=t(e);if("string"!==typeof n)return n;var o=window._okGlobal||window.okGlobal;return o&&o.isRTL&&/\.css$/.test(n)?n.replace(/\.css$/,".rtl.css"):n}}}catch(e){}})();n(2497)})();
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/expressway/0.24.188/chatbotLoader/index.js.map