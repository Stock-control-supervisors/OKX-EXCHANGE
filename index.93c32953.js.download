"use strict";(self.webpackChunkdefi_mode=self.webpackChunkdefi_mode||[]).push([[1708,8153],{1708:(e,r,t)=>{t.d(r,{Z:()=>E});var n=t(45987),a=t(1413),c=t(37762),s=t(74165),u=t(15861),o=t(51625),i=t.n(o),l=t(60378),p=t(53949),d=t(91719),h=t(64353),v=t(80159),f=t(91680),w=t(93517),Z=t(89477),b=t(99666),k=t(59030),x=["account","signData","nonce"],m=["message","nonce"],g=["message"],C=["chain","chainType","switchFaildCallback"],y=["chain","chainType","connectOptions","succCallback","closeCallback","switchFaildCallback"],A=["chain","switchFaildCallback"],T=["chain","switchFaildCallback"],W=["isNeedAll","chainId"],P=["currency","network","address","prefix","contract","onClose"];function F(e,r){var t=new Promise((r=>{var t=setTimeout((()=>{clearTimeout(t),r("Timeout")}),e)}));return Promise.race([r,t])}var N=new class{constructor(){this.adapter=null,this.adapterFlag=!1,this.okxWalletSupportChain=[],this.initPromise=this.init(),this.walletChangeCallbacks=new Map,this.dashboardChangeCallbacks=new Map,this.nextWalletChangeSubId=1,this.nextDashboardChangeSubId=1,this.adapterReadyPromise=new Promise((e=>{this.resolveAdapterReady=e}))}resetAdapterPromise(){this.adapterReadyPromise=new Promise((e=>{this.resolveAdapterReady=e}))}onWalletChange(e){if(!(0,l.y)()){var r=this.nextWalletChangeSubId++;return(0,v.uw)({subscriptionId:r,callbacks:this.walletChangeCallbacks,callback:e})}}offWalletChange(e){(0,l.y)()||(0,v.Du)({subscriptionId:e,callbacks:this.walletChangeCallbacks})}onDashboardChange(e){if(!(0,l.y)()){var r=this.nextDashboardChangeSubId++;return(0,v.uw)({subscriptionId:r,callbacks:this.dashboardChangeCallbacks,callback:e})}}offDashboardChange(e){(0,l.y)()||(0,v.Du)({subscriptionId:e,callbacks:this.dashboardChangeCallbacks})}onChainChange(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,a,c,u,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,l.y)()){t.next=2;break}return t.abrupt("return");case 2:null!==(n=r.adapter)&&void 0!==n&&n.onChainChange?null===(a=r.adapter)||void 0===a||a.onChainChange(e):null===(c=window)||void 0===c||null===(u=c.ethereum)||void 0===u||null===(o=u.on)||void 0===o||o.call(u,"chainChanged",e);case 3:case"end":return t.stop()}}),t)})))()}offChainChange(e){return(0,u.Z)((0,s.Z)().mark((function r(){var t,n,a,c,u,o,i,p,d;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(0,l.y)()){r.next=2;break}return r.abrupt("return");case 2:return null===(t=window)||void 0===t||null===(n=t.okxwallet)||void 0===n||null===(a=n.removeListener)||void 0===a||a.call(n,"chainChanged",e),null===(c=window)||void 0===c||null===(u=c.ethereum)||void 0===u||null===(o=u.removeListener)||void 0===o||o.call(u,"chainChanged",e),r.next=6,(0,w.VH)();case 6:null===(d=r.sent)||void 0===d||null===(i=d.ethereum)||void 0===i||null===(p=i.removeListener)||void 0===p||p.call(i,"chainChanged",e);case 8:case"end":return r.stop()}}),r)})))()}get chainTypeEnum(){return d.CY}get chainTypeKeyEnum(){return d.tV}get chainType(){var e;return null===(e=this.adapter)||void 0===e?void 0:e.chainType}get isConnected(){return!!(0,w.LG)()}get isWalletReady(){return!!this.adapter}get Web3(){return"undefined"===typeof Web3?void 0:Web3}walletDataChangeCallBack(e,r){var t=this;return(0,u.Z)((0,s.Z)().mark((function n(){var a,u,o,i,l,p,d,h;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.actionType,!["add_connected_wallet","init_wallet"].includes(a)){n.next=14;break}if(t.adapterFlag){n.next=10;break}if(r.adapter){n.next=10;break}return n.next=7,(0,f.S)({okxWalletSupportChain:r.okxWalletSupportChain});case 7:r.adapter=n.sent,r.resolveAdapterReady();case 10:u=(0,c.Z)(t.walletChangeCallbacks.keys());try{for(u.s();!(o=u.n()).done;)(0,o.value)(e)}catch(s){u.e(s)}finally{u.f()}n.next=15;break;case 14:if("log_out_wallet"===a){r.adapter=null,r.resolveAdapterReady(),i=setTimeout((()=>{r.resetAdapterPromise(),clearTimeout(i)}),2005),l=(0,c.Z)(t.walletChangeCallbacks.keys());try{for(l.s();!(p=l.n()).done;)(0,p.value)(e)}catch(s){l.e(s)}finally{l.f()}}case 15:d=(0,c.Z)(t.dashboardChangeCallbacks.keys());try{for(d.s();!(h=d.n()).done;)(0,h.value)(e)}catch(s){d.e(s)}finally{d.f()}case 17:case"end":return n.stop()}}),n)})))()}init(){var e=this;return(0,u.Z)((0,s.Z)().mark((function r(){var t,n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(0,l.y)()){r.next=3;break}return r.abrupt("return");case 3:t=p.Z.onchain,n=(void 0===t?{}:t).onWalletDataChange,a=e,n&&n((r=>{e.walletDataChangeCallBack(r,a)})),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),r.t0;case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}createAdapter(){var e=this;return(0,u.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.adapter){r.next=7;break}return r.next=3,(0,f.S)({okxWalletSupportChain:e.okxWalletSupportChain});case 3:e.adapter=r.sent,e.resolveAdapterReady(),e.adapterFlag=!1;case 7:case"end":return r.stop()}}),r)})))()}setOkxWalletSupportChain(e){this.okxWalletSupportChain=e}connect(e){var r=this;try{var t;if((0,l.y)())return;var n=(e||{}).successCallback,c=function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.adapterFlag=!0,e.next=3,r.createAdapter();case 3:n&&n(t);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o=(0,a.Z)((0,a.Z)({},e),{},{successCallback:c});null===p.Z||void 0===p.Z||null===(t=p.Z.onchain)||void 0===t||t.getWalletWidget().then((e=>{e&&e.connect(o)}))}catch(i){throw console.error("Error connecting wallet:",i),i}}disconnect(){var e;(0,l.y)()||null===p.Z||void 0===p.Z||null===(e=p.Z.onchain)||void 0===e||e.setWalletLogout()}getWeb3(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,a;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return t.abrupt("return",(0,w.Um)(e));case 4:if(!r.adapter){t.next=6;break}return t.abrupt("return",null===(n=(a=r.adapter).getWeb3)||void 0===n?void 0:n.call(a));case 6:case"end":return t.stop()}}),t)})))()}getWalletAdapter(){var e=this;return(0,u.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.adapter){r.next=2;break}throw new Error("No wallet connected");case 2:return r.abrupt("return",e.adapter);case 3:case"end":return r.stop()}}),r)})))()}getAccount(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(n=r.adapter)||void 0===n?void 0:n.getAccount(e);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0="";case 5:return t.abrupt("return",t.t0);case 6:case"end":return t.stop()}}),t)})))()}getChainId(){var e=this;return(0,u.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.adapter){r.next=2;break}throw new Error("No wallet connected");case 2:return r.next=4,e.adapter.getChainId();case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}signData(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,u,o,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.account,u=e.signData,o=e.nonce,i=(0,n.Z)(e,x),r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,r.adapter.signMessage((0,a.Z)({message:u,account:c,nonce:o},i));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}signMessage(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,u,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.message,u=e.nonce,o=(0,n.Z)(e,m),r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,r.adapter.signMessage((0,a.Z)({message:c,nonce:u},o));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}signTypedData(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,u,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=e.message,o=(0,n.Z)(e,g),r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,null===(c=r.adapter)||void 0===c?void 0:c.signTypedData((0,a.Z)({message:u},o));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}sendTransaction(e,r,t){var n=this;return(0,u.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.adapter){a.next=2;break}throw new Error("No wallet connected");case 2:return a.next=4,n.adapter.sendTransaction({payload:e,cb:r,extraParams:t});case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),a)})))()}switchNetwork(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,u,o,i,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.chain,u=e.chainType,o=e.switchFaildCallback,i=(0,n.Z)(e,C),l=(0,w.q5)(c),r.adapter){t.next=4;break}throw new Error("No wallet connected");case 4:if(t.prev=4,!r.adapter.setChainType){t.next=8;break}return t.next=8,r.adapter.setChainType({chainId:l,chainType:u});case 8:return t.next=10,r.adapter.switchNetwork((0,a.Z)({chain:l,chainType:u,switchFaildCallback:o},i));case 10:return t.abrupt("return",t.sent);case 13:return t.prev=13,t.t0=t.catch(4),t.t0,o&&o(c),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[4,13]])})))()}commAdapterLinkAndNet(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,o,i,l,p,d,h,v;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.chain,o=e.chainType,i=e.connectOptions,l=e.succCallback,p=e.closeCallback,d=e.switchFaildCallback,h=(0,n.Z)(e,y),v=(0,w.q5)(c),t.prev=2,t.abrupt("return",new Promise(function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=()=>{r.connect((0,a.Z)((0,a.Z)({},i),{},{successCallback:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l&&l(),e.next=3,r.switchNetwork((0,a.Z)((0,a.Z)({},h),{},{chain:v,chainType:o,switchFaildCallback:d}));case 3:n=e.sent,t(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),closeCallback:p}))},!r.adapter){e.next=19;break}if(!r.adapter.setChainType){e.next=5;break}return e.next=5,r.adapter.setChainType({chainId:v,chainType:o});case 5:return e.next=7,r.adapter.getAccount({chainId:v,chainType:o});case 7:if(!e.sent){e.next=15;break}return e.next=11,r.switchNetwork((0,a.Z)((0,a.Z)({},h),{},{chain:v,chainType:o,switchFaildCallback:d}));case 11:f=e.sent,t(f),e.next=17;break;case 15:d&&d(c),t(!1);case 17:e.next=20;break;case 19:n();case 20:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:return t.prev=6,t.t0=t.catch(2),d&&d(v),t.abrupt("return",Promise.resolve(!1));case 10:case"end":return t.stop()}}),t,null,[[2,6]])})))()}checkLinKAndNet(e,r,t){var n=this;return(0,u.Z)((0,s.Z)().mark((function c(){return(0,s.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",n.commAdapterLinkAndNet((0,a.Z)({chain:e,switchFaildCallback:r},t)));case 1:case"end":return c.stop()}}),c)})))()}getConnectedConfig(){return(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,w.Xd)());case 1:case"end":return e.stop()}}),e)})))()}commAdapterChain(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,u,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.chain,u=e.switchFaildCallback,o=(0,n.Z)(e,A),t.abrupt("return",r.switchNetwork((0,a.Z)({chain:c,switchFaildCallback:u},o)));case 2:case"end":return t.stop()}}),t)})))()}commAdaterChain(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,u,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.chain,u=e.switchFaildCallback,o=(0,n.Z)(e,T),t.abrupt("return",r.switchNetwork((0,a.Z)({chain:c,switchFaildCallback:u},o)));case 2:case"end":return t.stop()}}),t)})))()}checkWalletNet(e,r){var t=arguments,n=this;return(0,u.Z)((0,s.Z)().mark((function c(){var u,o,i;return(0,s.Z)().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:for(u=t.length,o=new Array(u>2?u-2:0),i=2;i<u;i++)o[i-2]=t[i];return c.abrupt("return",n.switchNetwork((0,a.Z)({chain:e,switchFaildCallback:r},o)));case 2:case"end":return c.stop()}}),c)})))()}getWalletAccount(){var e=arguments,r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var c,u,o,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=(c=e.length>0&&void 0!==e[0]?e[0]:{}).isNeedAll,o=c.chainId,i=(0,n.Z)(c,W),t.next=3,r.getAccount((0,a.Z)({isNeedAll:u,chainId:o},i));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}getProviderData(){return(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,w.zc)());case 1:case"end":return e.stop()}}),e)})))()}setChainType(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,a,c;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.chainType,c=e.chainId,null===(n=r.adapter)||void 0===n||!n.setChainType){t.next=5;break}return t.next=4,r.adapter.setChainType({chainType:a,chainId:c});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}isSupportChainType(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,a,c,u,o,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.chainId,a=(0,w.W3)(n),c=!0,t.next=5,(0,w.zc)();case 5:if(u=t.sent,(o=u.walletType)!==h.TE.OKX_WALLET||!r.adapter){t.next=14;break}return t.next=10,r.adapter.getAccount({chainId:n});case 10:i=t.sent,c=!!i,t.next=15;break;case 14:o===h.TE.LEDGER?c=!0:o!==h.TE.NO_WALLET?(h.kK[o]||[]).includes(a)||(c=!1):o===h.TE.NO_WALLET&&(c=!1);case 15:return t.abrupt("return",c);case 16:case"end":return t.stop()}}),t)})))()}getChainTypeByChainId(e){var r=d.CY.EVM;return Object.keys(d.Ml).forEach((t=>{d.Ml[t].includes(e)&&(r=Number(t))})),r}getAllChainTypeInfoList(){var e=this;return(0,u.Z)((0,s.Z)().mark((function r(){var t,n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(null===(t=e.adapter)||void 0===t||null===(n=t.getAllChainTypeInfoList)||void 0===n?void 0:n.call(t))||[]);case 1:case"end":return r.stop()}}),r)})))()}getWalletType(){return(0,u.Z)((0,s.Z)().mark((function e(){var r,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.zc)();case 2:return r=e.sent,t=r.walletType,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()}commApproved(e,r,t,n,a,c,o){var i=this;return(0,u.Z)((0,s.Z)().mark((function u(){return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",i.commApproveToken({abi:e,addr:r,operatorAddr:t,amount:n,cb:a,maxFeePerGas:c,maxPriorityFeePerGas:o}));case 1:case"end":return s.stop()}}),u)})))()}commApproveToken(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,a,c,u,o,l,p,d,h,v,f,w;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.abi,a=e.addr,c=e.operatorAddr,u=e.amount,o=e.cb,l=e.maxFeePerGas,p=e.maxPriorityFeePerGas,d=e.extParams,h=n||i(),t.next=4,r.getAccount();case 4:return v=t.sent,t.next=7,r.getWeb3();case 7:return f=t.sent,t.next=10,(0,Z.F)({abi:h,addr:a,ownerAddr:v,operatorAddr:c,amount:u,web3:f});case 10:if(!t.sent){t.next=15;break}return t.abrupt("return",!0);case 15:return t.next=17,r.approvedToken({abi:h,addr:a,operatorAddr:c,cb:o,maxFeePerGas:l,maxPriorityFeePerGas:p,extParams:d});case 17:return w=t.sent,t.abrupt("return",w);case 20:case"end":return t.stop()}}),t)})))()}approvedToken(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,c,u,o,l,p,d,h,v,f,w,Z;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.abi,c=e.addr,u=e.operatorAddr,o=e.cb,l=e.maxFeePerGas,p=e.maxPriorityFeePerGas,d=e.extParams,t.prev=1,h=n||i(),t.next=5,r.getWeb3();case 5:return v=t.sent,f=new v.eth.Contract(h,c),t.next=9,r.getAccount();case 9:return w=t.sent,Z={from:w,to:c,data:f.methods.approve(u,b.E).encodeABI(),extParams:(0,a.Z)((0,a.Z)({},d),{},{canSupplyGas:!0})},l&&p&&(Z.maxFeePerGas=l,Z.maxPriorityFeePerGas=p),t.next=14,r.sendTransaction(Z,o);case 14:return"Approved Token success to ".concat(u),t.abrupt("return",!0);case 18:return t.prev=18,t.t0=t.catch(1),t.t0,t.abrupt("return",!1);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})))()}isApproved(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,a,c,u,o,l,p,d;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.abi,a=e.addr,c=e.ownerAddr,u=e.operatorAddr,o=e.amount,l=n||i(),t.next=4,r.getWeb3();case 4:return p=t.sent,t.next=7,(0,Z.F)({abi:l,addr:a,ownerAddr:c,operatorAddr:u,amount:o,web3:p});case 7:return d=t.sent,t.abrupt("return",!!d);case 9:case"end":return t.stop()}}),t)})))()}getContract(e,r){var t=this;return(0,u.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getWeb3();case 2:return a=n.sent,n.abrupt("return",new a.eth.Contract(e,r));case 4:case"end":return n.stop()}}),n)})))()}getDecimals(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getWeb3();case 2:return n=t.sent,t.abrupt("return",(0,Z.p)({addr:e,web3:n}));case 4:case"end":return t.stop()}}),t)})))()}getEthBalance(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getWeb3();case 2:return n=t.sent,t.abrupt("return",new Promise((r=>{n.eth.getBalance(e,((e,t)=>{var a=n.utils.fromWei(t,"ether");r(a)}))})));case 4:case"end":return t.stop()}}),t)})))()}getWalletProvider(){return(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,w.sM)());case 1:case"end":return e.stop()}}),e)})))()}setSupportWalletOptions(e){return(0,u.Z)((0,s.Z)().mark((function r(){var t;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:p.Z.onchain&&(t=p.Z.onchain.supportWalletOptions,p.Z.onchain.supportWalletOptions=(0,a.Z)((0,a.Z)({},t),e));case 1:case"end":return r.stop()}}),r)})))()}getDeposit(e){return(0,u.Z)((0,s.Z)().mark((function r(){var t,c,u,o,i,l,d,h,v,f,w,Z;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.currency,i=e.network,l=e.address,d=e.prefix,h=e.contract,v=e.onClose,f=(0,n.Z)(e,P),r.next=3,null===p.Z||void 0===p.Z||null===(t=p.Z.onchain)||void 0===t||null===(c=t.getWalletWidget)||void 0===c?void 0:c.call(t);case 3:return w=r.sent,r.next=6,null===w||void 0===w||null===(u=w.getDeposit)||void 0===u?void 0:u.call(w);case 6:null===(Z=r.sent)||void 0===Z||Z.V1((0,a.Z)({currency:o,network:i,address:l,prefix:d,contract:h,onClose:v},f));case 8:case"end":return r.stop()}}),r)})))()}getWalletStorage(){return(0,u.Z)((0,s.Z)().mark((function e(){var r,t,n,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===p.Z||void 0===p.Z||null===(r=p.Z.onchain)||void 0===r||null===(t=r.getWalletWidget)||void 0===t?void 0:t.call(r);case 2:return n=e.sent,e.next=5,null===n||void 0===n?void 0:n.getWalletStorage();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))()}getWalletWidget(){return(0,u.Z)((0,s.Z)().mark((function e(){var r,t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===p.Z||void 0===p.Z||null===(r=p.Z.onchain)||void 0===r||null===(t=r.getWalletWidget)||void 0===t?void 0:t.call(r);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()}okxAppSendCustomTransaction(e,r){var t=this;return(0,u.Z)((0,s.Z)().mark((function n(){var a,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.adapter){n.next=2;break}throw new Error("No wallet connected");case 2:return n.next=4,null===(a=(c=t.adapter).sendCustomTransaction)||void 0===a?void 0:a.call(c,e,r);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()}okxAppCancelApprove(e){var r=this;return(0,u.Z)((0,s.Z)().mark((function t(){var n,a,c,u,o,i,l;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e.abi,u=e.addr,o=e.operatorAddr,i=e.cb,l=e.options,r.adapter){t.next=3;break}throw new Error("No wallet connected");case 3:return t.next=5,null===(n=(a=r.adapter).okxAppCancelApprove)||void 0===n?void 0:n.call(a,{abi:c,addr:u,operatorAddr:o,cb:i,options:l});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))()}isBtcAddress(e){return(0,k.G)(e)}};const E=new Proxy(N,{get(e,r,t){var n=Reflect.get(e,r,t);return["getChainTypeByChainId","Web3","onWalletChange","offWalletChange","onDashboardChange","offDashboardChange","setOkxWalletSupportChain","setSupportWalletOptions","connect","disconnect","getWalletStorage","createAdapter","isBtcAddress"].includes(r)?n:"function"===typeof n?(0,u.Z)((0,s.Z)().mark((function r(){var t,a,c,u=arguments;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.initPromise;case 2:if(!(0,w.LG)()){r.next=6;break}return r.next=6,F(2e3,e.adapterReadyPromise);case 6:for(t=u.length,a=new Array(t),c=0;c<t;c++)a[c]=u[c];return r.abrupt("return",n.apply(e,a));case 8:case"end":return r.stop()}}),r)}))):n}})}}]);
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/defi-mode/1708/index.93c32953.js.map