(self.webpackChunkdefi_mode=self.webpackChunkdefi_mode||[]).push([[9042],{67159:function(e,t,r){var n,a,i;i=function(){return function(){return function(e){var t=[];if(0===e.length)return"";if("string"!==typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var a=e[n];if("string"!==typeof a)throw new TypeError("Url must be a string. Received "+a);""!==a&&(n>0&&(a=a.replace(/^[\/]+/,"")),a=n<e.length-1?a.replace(/[\/]+$/,""):a.replace(/[\/]+$/,"/"),t.push(a))}var i=t.join("/"),s=(i=i.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return s.shift()+(s.length>0?"?":"")+s.join("&")}("object"===typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=i():void 0===(a="function"===typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=a)},37132:(e,t,r)=>{"use strict";r.d(t,{fr:()=>O});for(var n=r(29439),a=r(30812),i=r(13459),s=r(73334),o=[],c=[],u=[],l=BigInt(0),d=BigInt(1),f=BigInt(2),h=BigInt(7),p=BigInt(256),v=BigInt(113),_=0,g=d,m=1,b=0;_<24;_++){var w=[b,(2*m+3*b)%5];m=w[0],b=w[1],o.push(2*(5*b+m)),c.push((_+1)*(_+2)/2%64);for(var y=l,k=0;k<7;k++)(g=(g<<d^(g>>h)*v)%p)&f&&(y^=d<<(d<<BigInt(k))-d);u.push(y)}var E=(0,i.Vl)(u,!0),x=(0,n.Z)(E,2),Z=x[0],A=x[1],S=(e,t,r)=>r>32?(0,i.SD)(e,t,r):(0,i.EP)(e,t,r),C=(e,t,r)=>r>32?(0,i.mk)(e,t,r):(0,i.gm)(e,t,r);class T extends s.kb{constructor(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,a.Rx)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.Jq)(this.state)}keccak(){!function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,r=new Uint32Array(10),n=24-t;n<24;n++){for(var a=0;a<10;a++)r[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(var i=0;i<10;i+=2)for(var s=(i+8)%10,u=(i+2)%10,l=r[u],d=r[u+1],f=S(l,d,1)^r[s],h=C(l,d,1)^r[s+1],p=0;p<50;p+=10)e[i+p]^=f,e[i+p+1]^=h;for(var v=e[2],_=e[3],g=0;g<24;g++){var m=c[g],b=S(v,_,m),w=C(v,_,m),y=o[g];v=e[y],_=e[y+1],e[y]=b,e[y+1]=w}for(var k=0;k<50;k+=10){for(var E=0;E<10;E++)r[E]=e[k+E];for(var x=0;x<10;x++)e[k+x]^=~r[(x+2)%10]&r[(x+4)%10]}e[0]^=Z[n],e[1]^=A[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,a.Gg)(this);for(var t=this.blockLen,r=this.state,n=(e=(0,s.O0)(e)).length,i=0;i<n;){for(var o=Math.min(t-this.pos,n-i),c=0;c<o;c++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(!this.finished){this.finished=!0;var e=this.state,t=this.suffix,r=this.pos,n=this.blockLen;e[r]^=t,0!==(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}}writeInto(e){(0,a.Gg)(this,!1),(0,a.aI)(e),this.finish();for(var t=this.state,r=this.blockLen,n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();var s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,a.Rx)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,a.J8)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){var t=this.blockLen,r=this.suffix,n=this.outputLen,a=this.rounds,i=this.enableXOF;return e||(e=new T(t,r,n,i,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}var I=(e,t,r)=>(0,s.hE)((()=>new T(t,e,r))),O=I(1,136,32)},79042:(e,t,r)=>{"use strict";r.d(t,{OK:()=>Oi,qn:()=>eu});var n={};r.r(n),r.d(n,{poseidon:()=>b,splitConstants:()=>m,validateOpts:()=>g});var a={};r.r(a),r.d(a,{CURVE:()=>P,Fp251:()=>ae,MAX_VALUE:()=>E,ProjectivePoint:()=>F,Signature:()=>L,_poseidonMDS:()=>se,_starkCurve:()=>S,computeHashOnElements:()=>ee,ethSigToPrivate:()=>M,getAccountPath:()=>Y,getPublicKey:()=>I,getSharedSecret:()=>O,getStarkKey:()=>V,grindKey:()=>j,keccak:()=>re,pedersen:()=>Q,poseidonBasic:()=>ce,poseidonCreate:()=>ue,poseidonHash:()=>de,poseidonHashFunc:()=>fe,poseidonHashMany:()=>pe,poseidonHashSingle:()=>he,poseidonSmall:()=>le,sign:()=>D,utils:()=>U,verify:()=>B});var i=r(9115),s=r(74165),o=r(15861),c=r(37762),u=r(29439),l=r(1413),d=r(55117),f=r(91030),h=r(37132),p=r(18299),v=r(73334),_=r(94258);function g(e){var t=e.Fp,r=e.mds,n=e.reversePartialPowIdx,a=e.roundConstants,i=e.roundsFull,s=e.roundsPartial,o=e.sboxPower,c=e.t;(0,_.OP)(t);for(var u=0,d=["t","roundsFull","roundsPartial"];u<d.length;u++){var f=d[u];if("number"!==typeof e[f]||!Number.isSafeInteger(e[f]))throw new Error("Poseidon: invalid param ".concat(f,"=").concat(e[f]," (").concat(typeof e[f],")"))}if(!Array.isArray(r)||r.length!==c)throw new Error("Poseidon: wrong MDS matrix");var h=r.map((e=>{if(!Array.isArray(e)||e.length!==c)throw new Error("Poseidon MDS matrix row: ".concat(e));return e.map((e=>{if("bigint"!==typeof e)throw new Error("Poseidon MDS matrix value=".concat(e));return t.create(e)}))}));if(void 0!==n&&"boolean"!==typeof n)throw new Error("Poseidon: invalid param reversePartialPowIdx=".concat(n));if(i%2!==0)throw new Error("Poseidon roundsFull is not even: ".concat(i));var p=i+s;if(!Array.isArray(a)||a.length!==p)throw new Error("Poseidon: wrong round constants");var v=a.map((e=>{if(!Array.isArray(e)||e.length!==c)throw new Error("Poseidon wrong round constants: ".concat(e));return e.map((e=>{if("bigint"!==typeof e||!t.isValid(e))throw new Error("Poseidon wrong round constant=".concat(e));return t.create(e)}))}));if(!o||![3,5,7].includes(o))throw new Error("Poseidon wrong sboxPower=".concat(o));var g=BigInt(o),m=e=>(0,_.Q)(t,e,g);return 3===o?m=e=>t.mul(t.sqrN(e),e):5===o&&(m=e=>t.mul(t.sqrN(t.sqrN(e)),e)),Object.freeze((0,l.Z)((0,l.Z)({},e),{},{rounds:p,sboxFn:m,roundConstants:v,mds:h}))}function m(e,t){if("number"!==typeof t)throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: wrong rc");for(var r=[],n=[],a=0;a<e.length;a++)n.push(e[a]),n.length===t&&(r.push(n),n=[]);return r}function b(e){var t=g(e),r=t.Fp,n=t.mds,a=t.roundConstants,i=t.rounds,s=t.roundsPartial,o=t.sboxFn,c=t.t,u=t.roundsFull/2,l=t.reversePartialPowIdx?c-1:0,d=(e,t,i)=>(e=e.map(((e,t)=>r.add(e,a[i][t]))),t?e=e.map((e=>o(e))):e[l]=o(e[l]),e=n.map((t=>t.reduce(((t,n,a)=>r.add(t,r.mulN(n,e[a]))),r.ZERO)))),f=function(e){if(!Array.isArray(e)||e.length!==c)throw new Error("Poseidon: wrong values (expected array of bigints with length ".concat(c,")"));e=e.map((e=>{if("bigint"!==typeof e)throw new Error("Poseidon: wrong value=".concat(e," (").concat(typeof e,")"));return r.create(e)}));for(var t=0,n=0;n<u;n++)e=d(e,!0,t++);for(var a=0;a<s;a++)e=d(e,!1,t++);for(var o=0;o<u;o++)e=d(e,!0,t++);if(t!==i)throw new Error("Poseidon: wrong number of rounds: last round=".concat(t,", total=").concat(i));return e};return f.roundConstants=a,f}var w=r(74698),y=r(8578),k=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),E=BigInt("0x800000000000000000000000000000000000000000000000000000000000000");function x(e){for(;0===e[0];)e=e.subarray(1);var t=8*e.length-252,r=f.Hv(e);return t>0?r>>BigInt(t):r}function Z(e){return"string"===typeof e&&1&(e=H(e)).length&&(e="0"+e),f.nr(e)}var A=(0,w.weierstrass)((0,l.Z)((0,l.Z)({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:(0,_.gN)(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:k,nBitLength:252,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1},(0,y.X)(p.J)),{},{bits2int:x,bits2int_modN:e=>{var t=f.Hv(e).toString(16);return 63===t.length&&(e=Z(t+"0")),(0,_.wQ)(x(e),k)}})),S=A;function C(e){return f.ql("","string"===typeof e?Z(e):e)}function T(e){return f.ci(C(e)).padStart(64,"0")}function I(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return A.getPublicKey(T(e),t)}function O(e,t){return A.getSharedSecret(T(e),t)}function N(e){var t=e.r,r=e.s;if(t<0n||t>=E)throw new Error("Signature.r should be [1, ".concat(E,")"));var n=(0,_.U_)(r,k);if(n<0n||n>=E)throw new Error("inv(Signature.s) should be [1, ".concat(E,")"))}function R(e){var t=C(e);if(f.Hv(t)>=E)throw new Error("msgHash should be [0, ".concat(E,")"));return t}function D(e,t,r){var n=A.sign(R(e),T(t),r);return N(n),n}function B(e,t,r){if(!(e instanceof L)){var n=C(e);try{e=L.fromDER(n)}catch(a){if(!(a instanceof w.DER.Err))throw a;e=L.fromCompact(n)}}return N(e),A.verify(e,R(t),C(r))}var P=A.CURVE,F=A.ProjectivePoint,L=A.Signature,U=A.utils;function z(e){var t=f.ci(e.subarray(1)).replace(/^0+/gm,"");return"0x".concat(t)}function H(e){return e.replace(/^0x/i,"")}function j(e){for(var t=C(e),r=2n**256n,n=r-(0,_.wQ)(r,k),a=0;;a++){var i=ne(f.eV(t,f.Yt(BigInt(a))));if(i<n)return(0,_.wQ)(i,k).toString(16);if(1e5===a)throw new Error("grindKey is broken: tried 100k vals")}}function V(e){return z(I(e,!0))}function M(e){if(130!==(e=H(e)).length)throw new Error("Wrong ethereum signature");return j(e.substring(0,64))}var K=2n**31n-1n,G=e=>Number(e&K);function Y(e,t,r,n){var a=G(ne(e)),i=G(ne(t)),s=f.ly(H(r));return"m/2645'/".concat(a,"'/").concat(i,"'/").concat(G(s),"'/").concat(G(s>>31n),"'/").concat(n)}var q=[new F(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new F(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new F(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new F(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new F(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function J(e,t){for(var r=[],n=e,a=0;a<248;a++)r.push(n),n=n.double();n=t;for(var i=0;i<4;i++)r.push(n),n=n.double();return r}var W=J(q[1],q[2]),X=J(q[3],q[4]);function $(e,t,r){for(var n=function(e){var t;if("bigint"===typeof e)t=e;else if("number"===typeof e){if(!Number.isSafeInteger(e))throw new Error("Invalid pedersenArg: ".concat(e));t=BigInt(e)}else t=f.Hv(C(e));if(!(0n<=t&&t<A.CURVE.Fp.ORDER))throw new Error("PedersenArg should be 0 <= value < CURVE.P: ".concat(t));return t}(t),a=0;a<252;a++){var i=r[a];if(i.equals(e))throw new Error("Same point");0n!==(1n&n)&&(e=e.add(i)),n>>=1n}return e}function Q(e,t){var r=q[0];return r=$(r,e,W),z((r=$(r,t,X)).toRawBytes(!0))}var ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q;return[0,...e,e.length].reduce(((e,r)=>t(e,r)))},te=f.dQ(250),re=e=>f.Hv((0,h.fr)(e))&te,ne=e=>f.Hv((0,p.J)(e)),ae=(0,_.gN)(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function ie(e,t,r){var n=e.fromBytes((0,p.J)((0,v.iY)("".concat(t).concat(r))));return e.create(n)}function se(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=[],i=[],s=0;s<r;s++)a.push(ie(e,"".concat(t,"x"),n*r+s)),i.push(ie(e,"".concat(t,"y"),n*r+s));if(new Set([...a,...i]).size!==2*r)throw new Error("X and Y values are not distinct");return a.map((t=>i.map((r=>e.inv(e.sub(t,r))))))}var oe=[[3,1,1],[1,-1,1],[1,1,-2]].map((e=>e.map(BigInt)));function ce(e,t){if((0,_.OP)(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error("Wrong poseidon opts: ".concat(e));for(var r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,a=[],i=0;i<n;i++){for(var s=[],o=0;o<r;o++)s.push(ie(e.Fp,"Hades",r*i+o));a.push(s)}var c=b((0,l.Z)((0,l.Z)({},e),{},{t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:a}));return c.m=r,c.rate=e.rate,c.capacity=e.capacity,c}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error("Wrong mdsAttempt=".concat(t));return ce(e,se(e.Fp,"HadesMDS",r,t))}var le=ce({Fp:ae,rate:2,capacity:1,roundsFull:8,roundsPartial:83},oe);function de(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:le)([e,t,2n])[0]}function fe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le;return f.Yt(de(f.Hv(e),f.Hv(t),r))}function he(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:le)([e,0n,1n])[0]}function pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le,r=t.m,n=t.rate;if(!Array.isArray(e))throw new Error("bigint array expected in values");var a=Array.from(e);for(a.push(1n);a.length%n!==0;)a.push(0n);for(var i=new Array(r).fill(0n),s=0;s<a.length;s+=n){for(var o=0;o<n;o++)i[o]+=a[s+o];i=t(i)}return i[0]}function ve(e){return _e.test(e)}var _e=/^-?[0-9]+$/;function ge(e){return me.test(e)}var me=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;var be=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function we(e){if(!function(e,t){var r=parseFloat(e),n=String(r),a=ye(e),i=ye(n);if(a===i)return!0;if(!0===(null===t||void 0===t?void 0:t.approx)&&!ve(e)&&i.length>=14&&a.startsWith(i.substring(0,14)))return!0;return!1}(e,{approx:!1})){if(ve(e))return be.truncate_integer;var t=parseFloat(e);return isFinite(t)?0===t?be.underflow:be.truncate_float:be.overflow}}function ye(e){return e.replace(ke,"").replace(xe,"").replace(Ze,"").replace(Ee,"")}var ke=/[eE][+-]?\d+$/,Ee=/^-?(0*)?/,xe=/\./,Ze=/0+$/;function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ce(n.key),n)}}function Ce(e){var t=function(e,t){if("object"!==Ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ae(t)?t:String(t)}var Te=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){(t=Ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"isLosslessNumber",!0),!ge(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}var t,r,n;return t=e,(r=[{key:"valueOf",value:function(){var e=we(this.value);if(void 0===e||e===be.truncate_float)return parseFloat(this.value);if(ve(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(e," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}])&&Se(t.prototype,r),n&&Se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ie(e){return new Te(e)}function Oe(e){return ve(e)?BigInt(e):parseFloat(e)}function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Re(e,t,r,n){return Array.isArray(r)?n.call(e,t,function(e,t){for(var r=0;r<e.length;r++)e[r]=Re(e,r+"",e[r],t);return e}(r,n)):r&&"object"===Ne(r)&&!function(e){return e&&"object"===Ae(e)&&!0===e.isLosslessNumber||!1}(r)?n.call(e,t,function(e,t){return Object.keys(e).forEach((function(r){var n=Re(e,r,e[r],t);void 0!==n?e[r]=n:delete e[r]})),e}(r,n)):n.call(e,t,r)}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Be(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie,n=0,a=o();return function(e){if(void 0===e)throw new SyntaxError("JSON value expected ".concat(k()))}(a),function(){if(n<e.length)throw new SyntaxError("Expected end of input ".concat(k()))}(),t?function(e,t){return Re({"":e},"",e,t)}(a,t):a;function i(){if(e.charCodeAt(n)===Me){n++,u();for(var t={},r=!0;n<e.length&&e.charCodeAt(n)!==Ke;){r?r=!1:(d(),u());var a=n,i=l();void 0===i&&v(),u(),f();var s=o();void 0===s&&b(),Object.prototype.hasOwnProperty.call(t,i)&&!ze(s,t[i])&&_(i,a+1),t[i]=s}return e.charCodeAt(n)!==Ke&&function(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(k()))}(),n++,t}}function s(){if(e.charCodeAt(n)===Ge){n++,u();for(var t=[],r=!0;n<e.length&&e.charCodeAt(n)!==Ye;){r?r=!1:d();var a=o();h(a),t.push(a)}return e.charCodeAt(n)!==Ye&&function(){throw new SyntaxError("Array item or end of array ']' expected ".concat(k()))}(),n++,t}}function o(){var t,a,o,d,f,h;u();var v=null!==(t=null!==(a=null!==(o=null!==(d=null!==(f=null!==(h=l())&&void 0!==h?h:function(){var t=n;e.charCodeAt(n)===et&&(n++,p(t));if(e.charCodeAt(n)===tt)n++;else if(a=e.charCodeAt(n),a>=rt&&a<=nt)for(n++;Ue(e.charCodeAt(n));)n++;var a;if(e.charCodeAt(n)===it)for(n++,p(t);Ue(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===lt||e.charCodeAt(n)===ut)for(n++,e.charCodeAt(n)!==et&&e.charCodeAt(n)!==Qe||n++,p(t);Ue(e.charCodeAt(n));)n++;if(n>t)return r(e.slice(t,n))}())&&void 0!==f?f:i())&&void 0!==d?d:s())&&void 0!==o?o:c("true",!0))&&void 0!==a?a:c("false",!1))&&void 0!==t?t:c("null",null);return u(),v}function c(t,r){if(e.slice(n,n+t.length)===t)return n+=t.length,r}function u(){for(;(t=e.charCodeAt(n))===qe||t===Je||t===We||t===Xe;)n++;var t}function l(){if(e.charCodeAt(n)===$e){n++;for(var t="";n<e.length&&e.charCodeAt(n)!==$e;){if(e.charCodeAt(n)===Ve){var r=e[n+1],a=je[r];void 0!==a?(t+=a,n++):"u"===r?Le(e.charCodeAt(n+2))&&Le(e.charCodeAt(n+3))&&Le(e.charCodeAt(n+4))&&Le(e.charCodeAt(n+5))?(t+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):w(n):m(n)}else(i=e.charCodeAt(n))>=32&&i<=1114111?t+=e[n]:g(e[n]);n++}return function(){if(e.charCodeAt(n)!==$e)throw new SyntaxError("End of string '\"' expected ".concat(k()))}(),n++,t}var i}function d(){if(e.charCodeAt(n)!==at)throw new SyntaxError("Comma ',' expected after value ".concat(k()));n++}function f(){if(e.charCodeAt(n)!==st)throw new SyntaxError("Colon ':' expected after property name ".concat(k()));n++}function h(e){if(void 0===e)throw new SyntaxError("Array item expected ".concat(k()))}function p(t){if(!Ue(e.charCodeAt(n))){var r=e.slice(t,n);throw new SyntaxError("Invalid number '".concat(r,"', expecting a digit ").concat(k()))}}function v(){throw new SyntaxError("Quoted object key expected ".concat(k()))}function _(e,t){throw new SyntaxError("Duplicate key '".concat(e,"' encountered at position ").concat(t))}function g(e){throw new SyntaxError("Invalid character '".concat(e,"' ").concat(y()))}function m(t){var r=e.slice(t,t+2);throw new SyntaxError("Invalid escape character '".concat(r,"' ").concat(y()))}function b(){throw new SyntaxError("Object value expected after ':' ".concat(y()))}function w(t){for(var r=t+2;/\w/.test(e[r]);)r++;var n=e.slice(t,r);throw new SyntaxError("Invalid unicode character '".concat(n,"' ").concat(y()))}function y(){return"at position ".concat(n)}function k(){return(n<e.length?"but got '".concat(e[n],"'"):"but reached end of input")+" "+y()}}function Le(e){return e>=tt&&e<=nt||e>=ot&&e<=dt||e>=ct&&e<=ft}function Ue(e){return e>=tt&&e<=nt}function ze(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,r){return ze(e,t[r])})):!(!He(e)||!He(t))&&Be(new Set([].concat(Be(Object.keys(e)),Be(Object.keys(t))))).every((function(r){return ze(e[r],t[r])})))}function He(e){return"object"===De(e)&&null!==e}var je={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},Ve=92,Me=123,Ke=125,Ge=91,Ye=93,qe=32,Je=10,We=9,Xe=13,$e=34,Qe=43,et=45,tt=48,rt=49,nt=57,at=44,it=46,st=58,ot=65,ct=97,ut=69,lt=101,dt=70,ft=102;function ht(e){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ht(e)}function pt(e,t,r,n){var a=function(e){if("number"===typeof e)return" ".repeat(e);if("string"===typeof e&&""!==e)return e;return}(r);return i("function"===typeof t?t.call({"":e},"",e):e,"");function i(e,s){if(Array.isArray(n)){var o=n.find((function(t){return t.test(e)}));if(o){var c=o.stringify(e);if("string"!==typeof c||!ge(c))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(c,")"));return c}}return"boolean"===typeof e||"number"===typeof e||"string"===typeof e||null===e||e instanceof Date||e instanceof Boolean||e instanceof Number||e instanceof String?JSON.stringify(e):e&&e.isLosslessNumber||"bigint"===typeof e?e.toString():Array.isArray(e)?function(e,r){if(0===e.length)return"[]";for(var n=a?r+a:void 0,s=a?"[\n":"[",o=0;o<e.length;o++){var c="function"===typeof t?t.call(e,String(o),e[o]):e[o];a&&(s+=n),s+="undefined"!==typeof c&&"function"!==typeof c?i(c,n):"null",o<e.length-1&&(s+=a?",\n":",")}return s+=a?"\n"+r+"]":"]",s}(e,s):e&&"object"===ht(e)?function(e,n){if("function"===typeof e.toJSON)return pt(e.toJSON(),t,r,void 0);var s=Array.isArray(t)?t.map(String):Object.keys(e);if(0===s.length)return"{}";var o=a?n+a:void 0,c=!0,u=a?"{\n":"{";return s.forEach((function(r){var n="function"===typeof t?t.call(e,r,e[r]):e[r];if(function(e,t){return"undefined"!==typeof t&&"function"!==typeof t&&"symbol"!==ht(t)}(0,n)){c?c=!1:u+=a?",\n":",";var s=JSON.stringify(r);u+=a?o+s+": ":s+":",u+=i(n,o)}})),u+=a?"\n"+n+"}":"}",u}(e,s):void 0}}function vt(e){for(var t=e.length;--t>=0;)e[t]=0}var _t=256,gt=286,mt=30,bt=15,wt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),yt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),kt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Et=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xt=new Array(576);vt(xt);var Zt=new Array(60);vt(Zt);var At=new Array(512);vt(At);var St=new Array(256);vt(St);var Ct=new Array(29);vt(Ct);var Tt,It,Ot,Nt=new Array(mt);function Rt(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function Dt(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}vt(Nt);var Bt=e=>e<256?At[e]:At[256+(e>>>7)],Pt=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Ft=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,Pt(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Lt=(e,t,r)=>{Ft(e,r[2*t],r[2*t+1])},Ut=(e,t)=>{var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},zt=(e,t,r)=>{var n,a,i=new Array(16),s=0;for(n=1;n<=bt;n++)s=s+r[n-1]<<1,i[n]=s;for(a=0;a<=t;a++){var o=e[2*a+1];0!==o&&(e[2*a]=Ut(i[o]++,o))}},Ht=e=>{var t;for(t=0;t<gt;t++)e.dyn_ltree[2*t]=0;for(t=0;t<mt;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},jt=e=>{e.bi_valid>8?Pt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Vt=(e,t,r,n)=>{var a=2*t,i=2*r;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},Mt=(e,t,r)=>{for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&Vt(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Vt(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},Kt=(e,t,r)=>{var n,a,i,s,o=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+o++],n+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===n?Lt(e,a,t):(i=St[a],Lt(e,i+_t+1,t),0!==(s=wt[i])&&(a-=Ct[i],Ft(e,a,s)),n--,i=Bt(n),Lt(e,i,r),0!==(s=yt[i])&&(n-=Nt[i],Ft(e,n,s)))}while(o<e.sym_next);Lt(e,256,t)},Gt=(e,t)=>{var r,n,a,i=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<c;r++)0!==i[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[a]=0,e.opt_len--,o&&(e.static_len-=s[2*a+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)Mt(e,i,r);a=c;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Mt(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*a]=i[2*r]+i[2*n],e.depth[a]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=a,e.heap[1]=a++,Mt(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{var r,n,a,i,s,o,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,v=0;for(i=0;i<=bt;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(i=c[2*c[2*(n=e.heap[r])+1]+1]+1)>p&&(i=p,v++),c[2*n+1]=i,n>u||(e.bl_count[i]++,s=0,n>=h&&(s=f[n-h]),o=c[2*n],e.opt_len+=o*(i+s),d&&(e.static_len+=o*(l[2*n+1]+s)));if(0!==v){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,v-=2}while(v>0);for(i=p;0!==i;i--)for(n=e.bl_count[i];0!==n;)(a=e.heap[--r])>u||(c[2*a+1]!==i&&(e.opt_len+=(i-c[2*a+1])*c[2*a],c[2*a+1]=i),n--)}})(e,t),zt(i,u,e.bl_count)},Yt=(e,t,r)=>{var n,a,i=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=s,s=t[2*(n+1)+1],++o<c&&a===s||(o<u?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=a,0===s?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4))},qt=(e,t,r)=>{var n,a,i=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(a=s,s=t[2*(n+1)+1],!(++o<c&&a===s)){if(o<u)do{Lt(e,a,e.bl_tree)}while(0!==--o);else 0!==a?(a!==i&&(Lt(e,a,e.bl_tree),o--),Lt(e,16,e.bl_tree),Ft(e,o-3,2)):o<=10?(Lt(e,17,e.bl_tree),Ft(e,o-3,3)):(Lt(e,18,e.bl_tree),Ft(e,o-11,7));o=0,i=a,0===s?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4)}},Jt=!1,Wt=(e,t,r,n)=>{Ft(e,0+(n?1:0),3),jt(e),Pt(e,r),Pt(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Xt=(e,t,r,n)=>{var a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<_t;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Gt(e,e.l_desc),Gt(e,e.d_desc),s=(e=>{var t;for(Yt(e,e.dyn_ltree,e.l_desc.max_code),Yt(e,e.dyn_dtree,e.d_desc.max_code),Gt(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Et[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=r+5,r+4<=a&&-1!==t?Wt(e,t,r,n):4===e.strategy||i===a?(Ft(e,2+(n?1:0),3),Kt(e,xt,Zt)):(Ft(e,4+(n?1:0),3),((e,t,r,n)=>{var a;for(Ft(e,t-257,5),Ft(e,r-1,5),Ft(e,n-4,4),a=0;a<n;a++)Ft(e,e.bl_tree[2*Et[a]+1],3);qt(e,e.dyn_ltree,t-1),qt(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Kt(e,e.dyn_ltree,e.dyn_dtree)),Ht(e),n&&jt(e)},$t={_tr_init:e=>{Jt||((()=>{var e,t,r,n,a,i=new Array(16);for(r=0,n=0;n<28;n++)for(Ct[n]=r,e=0;e<1<<wt[n];e++)St[r++]=n;for(St[r-1]=n,a=0,n=0;n<16;n++)for(Nt[n]=a,e=0;e<1<<yt[n];e++)At[a++]=n;for(a>>=7;n<mt;n++)for(Nt[n]=a<<7,e=0;e<1<<yt[n]-7;e++)At[256+a++]=n;for(t=0;t<=bt;t++)i[t]=0;for(e=0;e<=143;)xt[2*e+1]=8,e++,i[8]++;for(;e<=255;)xt[2*e+1]=9,e++,i[9]++;for(;e<=279;)xt[2*e+1]=7,e++,i[7]++;for(;e<=287;)xt[2*e+1]=8,e++,i[8]++;for(zt(xt,287,i),e=0;e<mt;e++)Zt[2*e+1]=5,Zt[2*e]=Ut(e,5);Tt=new Rt(xt,wt,257,gt,bt),It=new Rt(Zt,yt,0,mt,bt),Ot=new Rt(new Array(0),kt,0,19,7)})(),Jt=!0),e.l_desc=new Dt(e.dyn_ltree,Tt),e.d_desc=new Dt(e.dyn_dtree,It),e.bl_desc=new Dt(e.bl_tree,Ot),e.bi_buf=0,e.bi_valid=0,Ht(e)},_tr_stored_block:Wt,_tr_flush_block:Xt,_tr_tally:(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(St[r]+_t+1)]++,e.dyn_dtree[2*Bt(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{Ft(e,2,3),Lt(e,256,xt),(e=>{16===e.bi_valid?(Pt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},Qt=(e,t,r,n)=>{for(var a=65535&e|0,i=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{i=i+(a=a+t[n++]|0)|0}while(--s);a%=65521,i%=65521}return a|i<<16|0},er=new Uint32Array((()=>{for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})()),tr=(e,t,r,n)=>{var a=er,i=n+r;e^=-1;for(var s=n;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e},rr={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ar=$t._tr_init,ir=$t._tr_stored_block,sr=$t._tr_flush_block,or=$t._tr_tally,cr=$t._tr_align,ur=nr.Z_NO_FLUSH,lr=nr.Z_PARTIAL_FLUSH,dr=nr.Z_FULL_FLUSH,fr=nr.Z_FINISH,hr=nr.Z_BLOCK,pr=nr.Z_OK,vr=nr.Z_STREAM_END,_r=nr.Z_STREAM_ERROR,gr=nr.Z_DATA_ERROR,mr=nr.Z_BUF_ERROR,br=nr.Z_DEFAULT_COMPRESSION,wr=nr.Z_FILTERED,yr=nr.Z_HUFFMAN_ONLY,kr=nr.Z_RLE,Er=nr.Z_FIXED,xr=nr.Z_DEFAULT_STRATEGY,Zr=nr.Z_UNKNOWN,Ar=nr.Z_DEFLATED,Sr=258,Cr=262,Tr=42,Ir=113,Or=666,Nr=(e,t)=>(e.msg=rr[t],t),Rr=e=>2*e-(e>4?9:0),Dr=e=>{for(var t=e.length;--t>=0;)e[t]=0},Br=e=>{var t,r,n,a=e.w_size;n=t=e.hash_size;do{r=e.head[--n],e.head[n]=r>=a?r-a:0}while(--t);n=t=a;do{r=e.prev[--n],e.prev[n]=r>=a?r-a:0}while(--t)},Pr=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Fr=e=>{var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Lr=(e,t)=>{sr(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Fr(e.strm)},Ur=(e,t)=>{e.pending_buf[e.pending++]=t},zr=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Hr=(e,t,r,n)=>{var a=e.avail_in;return a>n&&(a=n),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),1===e.state.wrap?e.adler=Qt(e.adler,t,a,r):2===e.state.wrap&&(e.adler=tr(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},jr=(e,t)=>{var r,n,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-Cr?e.strstart-(e.w_size-Cr):0,u=e.window,l=e.w_mask,d=e.prev,f=e.strstart+Sr,h=u[i+s-1],p=u[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+s]===p&&u[r+s-1]===h&&u[r]===u[i]&&u[++r]===u[i+1]){i+=2,r++;do{}while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<f);if(n=Sr-(f-i),i=f-Sr,n>s){if(e.match_start=t,s=n,n>=o)break;h=u[i+s-1],p=u[i+s]}}}while((t=d[t&l])>c&&0!==--a);return s<=e.lookahead?s:e.lookahead},Vr=e=>{var t,r,n,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-Cr)&&(e.window.set(e.window.subarray(a,a+a-r),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,e.insert>e.strstart&&(e.insert=e.strstart),Br(e),r+=a),0===e.strm.avail_in)break;if(t=Hr(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=Pr(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=Pr(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Cr&&0!==e.strm.avail_in)},Mr=(e,t)=>{var r,n,a,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r>(n=e.strstart-e.block_start)+e.strm.avail_in&&(r=n+e.strm.avail_in),r>a&&(r=a),r<i&&(0===r&&t!==fr||t===ur||r!==n+e.strm.avail_in))break;s=t===fr&&r===n+e.strm.avail_in?1:0,ir(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Fr(e.strm),n&&(n>r&&(n=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,r-=n),r&&(Hr(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(0===s);return(o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==ur&&t!==fr&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Hr(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,i=(a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a)>e.w_size?e.w_size:a,((n=e.strstart-e.block_start)>=i||(n||t===fr)&&t!==ur&&0===e.strm.avail_in&&n<=a)&&(r=n>a?a:n,s=t===fr&&0===e.strm.avail_in&&r===n?1:0,ir(e,e.block_start,r,s),e.block_start+=r,Fr(e.strm)),s?3:1)},Kr=(e,t)=>{for(var r,n;;){if(e.lookahead<Cr){if(Vr(e),e.lookahead<Cr&&t===ur)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Pr(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-Cr&&(e.match_length=jr(e,r)),e.match_length>=3)if(n=or(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Pr(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Pr(e,e.ins_h,e.window[e.strstart+1]);else n=or(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Lr(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===fr?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2},Gr=(e,t)=>{for(var r,n,a;;){if(e.lookahead<Cr){if(Vr(e),e.lookahead<Cr&&t===ur)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=Pr(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Cr&&(e.match_length=jr(e,r),e.match_length<=5&&(e.strategy===wr||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,n=or(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Pr(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Lr(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=or(e,0,e.window[e.strstart-1]))&&Lr(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=or(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===fr?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2};function Yr(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}var qr=[new Yr(0,0,0,0,Mr),new Yr(4,4,8,4,Kr),new Yr(4,5,16,8,Kr),new Yr(4,6,32,32,Kr),new Yr(4,4,16,16,Gr),new Yr(8,16,32,32,Gr),new Yr(8,16,128,128,Gr),new Yr(8,32,128,256,Gr),new Yr(32,128,258,1024,Gr),new Yr(32,258,258,4096,Gr)];function Jr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ar,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Dr(this.dyn_ltree),Dr(this.dyn_dtree),Dr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Dr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Dr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Wr=e=>{if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.status!==Tr&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Ir&&t.status!==Or?1:0},Xr=e=>{if(Wr(e))return Nr(e,_r);e.total_in=e.total_out=0,e.data_type=Zr;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Tr:Ir,e.adler=2===t.wrap?0:1,t.last_flush=-2,ar(t),pr},$r=e=>{var t,r=Xr(e);return r===pr&&((t=e.state).window_size=2*t.w_size,Dr(t.head),t.max_lazy_match=qr[t.level].max_lazy,t.good_match=qr[t.level].good_length,t.nice_match=qr[t.level].nice_length,t.max_chain_length=qr[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r},Qr=(e,t,r,n,a,i)=>{if(!e)return _r;var s=1;if(t===br&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>9||r!==Ar||n<8||n>15||t<0||t>9||i<0||i>Er||8===n&&1!==s)return Nr(e,_r);8===n&&(n=9);var o=new Jr;return e.state=o,o.strm=e,o.status=Tr,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=i,o.method=r,$r(e)},en={deflateInit:(e,t)=>Qr(e,t,Ar,15,8,xr),deflateInit2:Qr,deflateReset:$r,deflateResetKeep:Xr,deflateSetHeader:(e,t)=>Wr(e)||2!==e.state.wrap?_r:(e.state.gzhead=t,pr),deflate:(e,t)=>{if(Wr(e)||t>hr||t<0)return e?Nr(e,_r):_r;var r=e.state;if(!e.output||0!==e.avail_in&&!e.input||r.status===Or&&t!==fr)return Nr(e,0===e.avail_out?mr:_r);var n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(Fr(e),0===e.avail_out)return r.last_flush=-1,pr}else if(0===e.avail_in&&Rr(t)<=Rr(n)&&t!==fr)return Nr(e,mr);if(r.status===Or&&0!==e.avail_in)return Nr(e,mr);if(r.status===Tr&&0===r.wrap&&(r.status=Ir),r.status===Tr){var a=Ar+(r.w_bits-8<<4)<<8;if(a|=(r.strategy>=yr||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),zr(r,a+=31-a%31),0!==r.strstart&&(zr(r,e.adler>>>16),zr(r,65535&e.adler)),e.adler=1,r.status=Ir,Fr(e),0!==r.pending)return r.last_flush=-1,pr}if(57===r.status)if(e.adler=0,Ur(r,31),Ur(r,139),Ur(r,8),r.gzhead)Ur(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ur(r,255&r.gzhead.time),Ur(r,r.gzhead.time>>8&255),Ur(r,r.gzhead.time>>16&255),Ur(r,r.gzhead.time>>24&255),Ur(r,9===r.level?2:r.strategy>=yr||r.level<2?4:0),Ur(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Ur(r,255&r.gzhead.extra.length),Ur(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=tr(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(Ur(r,0),Ur(r,0),Ur(r,0),Ur(r,0),Ur(r,0),Ur(r,9===r.level?2:r.strategy>=yr||r.level<2?4:0),Ur(r,3),r.status=Ir,Fr(e),0!==r.pending)return r.last_flush=-1,pr;if(69===r.status){if(r.gzhead.extra){for(var i=r.pending,s=(65535&r.gzhead.extra.length)-r.gzindex;r.pending+s>r.pending_buf_size;){var o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=tr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Fr(e),0!==r.pending)return r.last_flush=-1,pr;i=0,s-=o}var c=new Uint8Array(r.gzhead.extra);r.pending_buf.set(c.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=tr(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){var u,l=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>l&&(e.adler=tr(e.adler,r.pending_buf,r.pending-l,l)),Fr(e),0!==r.pending)return r.last_flush=-1,pr;l=0}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Ur(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>l&&(e.adler=tr(e.adler,r.pending_buf,r.pending-l,l)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){var d,f=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>f&&(e.adler=tr(e.adler,r.pending_buf,r.pending-f,f)),Fr(e),0!==r.pending)return r.last_flush=-1,pr;f=0}d=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Ur(r,d)}while(0!==d);r.gzhead.hcrc&&r.pending>f&&(e.adler=tr(e.adler,r.pending_buf,r.pending-f,f))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Fr(e),0!==r.pending))return r.last_flush=-1,pr;Ur(r,255&e.adler),Ur(r,e.adler>>8&255),e.adler=0}if(r.status=Ir,Fr(e),0!==r.pending)return r.last_flush=-1,pr}if(0!==e.avail_in||0!==r.lookahead||t!==ur&&r.status!==Or){var h=0===r.level?Mr(r,t):r.strategy===yr?((e,t)=>{for(var r;;){if(0===e.lookahead&&(Vr(e),0===e.lookahead)){if(t===ur)return 1;break}if(e.match_length=0,r=or(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Lr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===fr?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===kr?((e,t)=>{for(var r,n,a,i,s=e.window;;){if(e.lookahead<=Sr){if(Vr(e),e.lookahead<=Sr&&t===ur)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=s[a=e.strstart-1])===s[++a]&&n===s[++a]&&n===s[++a]){i=e.strstart+Sr;do{}while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<i);e.match_length=Sr-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=or(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=or(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Lr(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===fr?(Lr(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Lr(e,!1),0===e.strm.avail_out)?1:2})(r,t):qr[r.level].func(r,t);if(3!==h&&4!==h||(r.status=Or),1===h||3===h)return 0===e.avail_out&&(r.last_flush=-1),pr;if(2===h&&(t===lr?cr(r):t!==hr&&(ir(r,0,0,!1),t===dr&&(Dr(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Fr(e),0===e.avail_out))return r.last_flush=-1,pr}return t!==fr?pr:r.wrap<=0?vr:(2===r.wrap?(Ur(r,255&e.adler),Ur(r,e.adler>>8&255),Ur(r,e.adler>>16&255),Ur(r,e.adler>>24&255),Ur(r,255&e.total_in),Ur(r,e.total_in>>8&255),Ur(r,e.total_in>>16&255),Ur(r,e.total_in>>24&255)):(zr(r,e.adler>>>16),zr(r,65535&e.adler)),Fr(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?pr:vr)},deflateEnd:e=>{if(Wr(e))return _r;var t=e.state.status;return e.state=null,t===Ir?Nr(e,gr):pr},deflateSetDictionary:(e,t)=>{var r=t.length;if(Wr(e))return _r;var n=e.state,a=n.wrap;if(2===a||1===a&&n.status!==Tr||n.lookahead)return _r;if(1===a&&(e.adler=Qt(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===a&&(Dr(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(t.subarray(r-n.w_size,r),0),t=i,r=n.w_size}var s=e.avail_in,o=e.next_in,c=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Vr(n);n.lookahead>=3;){var u=n.strstart,l=n.lookahead-2;do{n.ins_h=Pr(n,n.ins_h,n.window[u+3-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++}while(--l);n.strstart=u,n.lookahead=2,Vr(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=c,e.avail_in=s,n.wrap=a,pr},deflateInfo:"pako deflate (from Nodeca project)"},tn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),rn={assign:function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(var n in r)tn(r,n)&&(e[n]=r[n])}}return e},flattenChunks:e=>{for(var t=0,r=0,n=e.length;r<n;r++)t+=e[r].length;for(var a=new Uint8Array(t),i=0,s=0,o=e.length;i<o;i++){var c=e[i];a.set(c,s),s+=c.length}return a}},nn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(tu){nn=!1}for(var an=new Uint8Array(256),sn=0;sn<256;sn++)an[sn]=sn>=252?6:sn>=248?5:sn>=240?4:sn>=224?3:sn>=192?2:1;an[254]=an[254]=1;var on={string2buf:e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,a,i,s=e.length,o=0;for(a=0;a<s;a++)55296===(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320===(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)55296===(64512&(r=e.charCodeAt(a)))&&a+1<s&&56320===(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t},buf2string:(e,t)=>{var r,n,a=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var i=new Array(2*a);for(n=0,r=0;r<a;){var s=e[r++];if(s<128)i[n++]=s;else{var o=an[s];if(o>4)i[n++]=65533,r+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&r<a;)s=s<<6|63&e[r++],o--;o>1?i[n++]=65533:s<65536?i[n++]=s:(s-=65536,i[n++]=55296|s>>10&1023,i[n++]=56320|1023&s)}}}return((e,t)=>{if(t<65534&&e.subarray&&nn)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(i,n)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);for(var r=t-1;r>=0&&128===(192&e[r]);)r--;return r<0||0===r?t:r+an[e[r]]>t?r:t}};var cn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},un=Object.prototype.toString,ln=nr.Z_NO_FLUSH,dn=nr.Z_SYNC_FLUSH,fn=nr.Z_FULL_FLUSH,hn=nr.Z_FINISH,pn=nr.Z_OK,vn=nr.Z_STREAM_END,_n=nr.Z_DEFAULT_COMPRESSION,gn=nr.Z_DEFAULT_STRATEGY,mn=nr.Z_DEFLATED;function bn(e){this.options=rn.assign({level:_n,method:mn,chunkSize:16384,windowBits:15,memLevel:8,strategy:gn},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cn,this.strm.avail_out=0;var r=en.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==pn)throw new Error(rr[r]);if(t.header&&en.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"===typeof t.dictionary?on.string2buf(t.dictionary):"[object ArrayBuffer]"===un.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=en.deflateSetDictionary(this.strm,n))!==pn)throw new Error(rr[r]);this._dict_set=!0}}function wn(e,t){var r=new bn(t);if(r.push(e,!0),r.err)throw r.msg||rr[r.err];return r.result}bn.prototype.push=function(e,t){var r,n,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?hn:ln,"string"===typeof e?a.input=on.string2buf(e):"[object ArrayBuffer]"===un.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(n===dn||n===fn)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((r=en.deflate(a,n))===vn)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),r=en.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===pn;if(0!==a.avail_out){if(n>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},bn.prototype.onData=function(e){this.chunks.push(e)},bn.prototype.onEnd=function(e){e===pn&&(this.result=rn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var yn={Deflate:bn,deflate:wn,deflateRaw:function(e,t){return(t=t||{}).raw=!0,wn(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,wn(e,t)},constants:nr},kn=16209,En=function(e,t){var r,n,a,i,s,o,c,u,l,d,f,h,p,v,_,g,m,b,w,y,k,E,x,Z,A=e.state;r=e.next_in,x=e.input,n=r+(e.avail_in-5),a=e.next_out,Z=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=A.dmax,c=A.wsize,u=A.whave,l=A.wnext,d=A.window,f=A.hold,h=A.bits,p=A.lencode,v=A.distcode,_=(1<<A.lenbits)-1,g=(1<<A.distbits)-1;e:do{h<15&&(f+=x[r++]<<h,h+=8,f+=x[r++]<<h,h+=8),m=p[f&_];t:for(;;){if(f>>>=b=m>>>24,h-=b,0===(b=m>>>16&255))Z[a++]=65535&m;else{if(!(16&b)){if(0===(64&b)){m=p[(65535&m)+(f&(1<<b)-1)];continue t}if(32&b){A.mode=16191;break e}e.msg="invalid literal/length code",A.mode=kn;break e}w=65535&m,(b&=15)&&(h<b&&(f+=x[r++]<<h,h+=8),w+=f&(1<<b)-1,f>>>=b,h-=b),h<15&&(f+=x[r++]<<h,h+=8,f+=x[r++]<<h,h+=8),m=v[f&g];r:for(;;){if(f>>>=b=m>>>24,h-=b,!(16&(b=m>>>16&255))){if(0===(64&b)){m=v[(65535&m)+(f&(1<<b)-1)];continue r}e.msg="invalid distance code",A.mode=kn;break e}if(y=65535&m,h<(b&=15)&&(f+=x[r++]<<h,(h+=8)<b&&(f+=x[r++]<<h,h+=8)),(y+=f&(1<<b)-1)>o){e.msg="invalid distance too far back",A.mode=kn;break e}if(f>>>=b,h-=b,y>(b=a-i)){if((b=y-b)>u&&A.sane){e.msg="invalid distance too far back",A.mode=kn;break e}if(k=0,E=d,0===l){if(k+=c-b,b<w){w-=b;do{Z[a++]=d[k++]}while(--b);k=a-y,E=Z}}else if(l<b){if(k+=c+l-b,(b-=l)<w){w-=b;do{Z[a++]=d[k++]}while(--b);if(k=0,l<w){w-=b=l;do{Z[a++]=d[k++]}while(--b);k=a-y,E=Z}}}else if(k+=l-b,b<w){w-=b;do{Z[a++]=d[k++]}while(--b);k=a-y,E=Z}for(;w>2;)Z[a++]=E[k++],Z[a++]=E[k++],Z[a++]=E[k++],w-=3;w&&(Z[a++]=E[k++],w>1&&(Z[a++]=E[k++]))}else{k=a-y;do{Z[a++]=Z[k++],Z[a++]=Z[k++],Z[a++]=Z[k++],w-=3}while(w>2);w&&(Z[a++]=Z[k++],w>1&&(Z[a++]=Z[k++]))}break}}break}}while(r<n&&a<s);r-=w=h>>3,f&=(1<<(h-=w<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=a<s?s-a+257:257-(a-s),A.hold=f,A.bits=h},xn=15,Zn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),An=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Sn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Cn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Tn=(e,t,r,n,a,i,s,o)=>{var c,u,l,d,f,h,p,v,_,g=o.bits,m=0,b=0,w=0,y=0,k=0,E=0,x=0,Z=0,A=0,S=0,C=null,T=new Uint16Array(16),I=new Uint16Array(16),O=null;for(m=0;m<=xn;m++)T[m]=0;for(b=0;b<n;b++)T[t[r+b]]++;for(k=g,y=xn;y>=1&&0===T[y];y--);if(k>y&&(k=y),0===y)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(w=1;w<y&&0===T[w];w++);for(k<w&&(k=w),Z=1,m=1;m<=xn;m++)if(Z<<=1,(Z-=T[m])<0)return-1;if(Z>0&&(0===e||1!==y))return-1;for(I[1]=0,m=1;m<xn;m++)I[m+1]=I[m]+T[m];for(b=0;b<n;b++)0!==t[r+b]&&(s[I[t[r+b]]++]=b);if(0===e?(C=O=s,h=20):1===e?(C=Zn,O=An,h=257):(C=Sn,O=Cn,h=0),S=0,b=0,m=w,f=i,E=k,x=0,l=-1,d=(A=1<<k)-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){p=m-x,s[b]+1<h?(v=0,_=s[b]):s[b]>=h?(v=O[s[b]-h],_=C[s[b]-h]):(v=96,_=0),c=1<<m-x,w=u=1<<E;do{a[f+(S>>x)+(u-=c)]=p<<24|v<<16|_|0}while(0!==u);for(c=1<<m-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,b++,0===--T[m]){if(m===y)break;m=t[r+s[b]]}if(m>k&&(S&d)!==l){for(0===x&&(x=k),f+=w,Z=1<<(E=m-x);E+x<y&&!((Z-=T[E+x])<=0);)E++,Z<<=1;if(A+=1<<E,1===e&&A>852||2===e&&A>592)return 1;a[l=S&d]=k<<24|E<<16|f-i|0}}return 0!==S&&(a[f+S]=m-x<<24|64<<16|0),o.bits=k,0},In=nr.Z_FINISH,On=nr.Z_BLOCK,Nn=nr.Z_TREES,Rn=nr.Z_OK,Dn=nr.Z_STREAM_END,Bn=nr.Z_NEED_DICT,Pn=nr.Z_STREAM_ERROR,Fn=nr.Z_DATA_ERROR,Ln=nr.Z_MEM_ERROR,Un=nr.Z_BUF_ERROR,zn=nr.Z_DEFLATED,Hn=16180,jn=16190,Vn=16191,Mn=16192,Kn=16194,Gn=16199,Yn=16200,qn=16206,Jn=16209,Wn=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Xn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var $n,Qn,ea=e=>{if(!e)return 1;var t=e.state;return!t||t.strm!==e||t.mode<Hn||t.mode>16211?1:0},ta=e=>{if(ea(e))return Pn;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Hn,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Rn},ra=e=>{if(ea(e))return Pn;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ta(e)},na=(e,t)=>{var r;if(ea(e))return Pn;var n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Pn:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ra(e))},aa=(e,t)=>{if(!e)return Pn;var r=new Xn;e.state=r,r.strm=e,r.window=null,r.mode=Hn;var n=na(e,t);return n!==Rn&&(e.state=null),n},ia=!0,sa=e=>{if(ia){$n=new Int32Array(512),Qn=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Tn(1,e.lens,0,288,$n,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Tn(2,e.lens,0,32,Qn,0,e.work,{bits:5}),ia=!1}e.lencode=$n,e.lenbits=9,e.distcode=Qn,e.distbits=5},oa=(e,t,r,n)=>{var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):((a=i.wsize-i.wnext)>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),(n-=a)?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},ca={inflateReset:ra,inflateReset2:na,inflateResetKeep:ta,inflateInit:e=>aa(e,15),inflateInit2:aa,inflate:(e,t)=>{var r,n,a,i,s,o,c,u,l,d,f,h,p,v,_,g,m,b,w,y,k,E,x,Z,A=0,S=new Uint8Array(4),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ea(e)||!e.output||!e.input&&0!==e.avail_in)return Pn;(r=e.state).mode===Vn&&(r.mode=Mn),s=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,d=o,f=c,E=Rn;e:for(;;)switch(r.mode){case Hn:if(0===r.wrap){r.mode=Mn;break}for(;l<16;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(2&r.wrap&&35615===u){0===r.wbits&&(r.wbits=15),r.check=0,S[0]=255&u,S[1]=u>>>8&255,r.check=tr(r.check,S,2,0),u=0,l=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Jn;break}if((15&u)!==zn){e.msg="unknown compression method",r.mode=Jn;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits&&(r.wbits=k),k>15||k>r.wbits){e.msg="invalid window size",r.mode=Jn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&u?16189:Vn,u=0,l=0;break;case 16181:for(;l<16;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(r.flags=u,(255&r.flags)!==zn){e.msg="unknown compression method",r.mode=Jn;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Jn;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&4&r.wrap&&(S[0]=255&u,S[1]=u>>>8&255,r.check=tr(r.check,S,2,0)),u=0,l=0,r.mode=16182;case 16182:for(;l<32;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&4&r.wrap&&(S[0]=255&u,S[1]=u>>>8&255,S[2]=u>>>16&255,S[3]=u>>>24&255,r.check=tr(r.check,S,4,0)),u=0,l=0,r.mode=16183;case 16183:for(;l<16;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&4&r.wrap&&(S[0]=255&u,S[1]=u>>>8&255,r.check=tr(r.check,S,2,0)),u=0,l=0,r.mode=16184;case 16184:if(1024&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&4&r.wrap&&(S[0]=255&u,S[1]=u>>>8&255,r.check=tr(r.check,S,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((h=r.length)>o&&(h=o),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),k)),512&r.flags&&4&r.wrap&&(r.check=tr(r.check,n,h,i)),o-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;h=0;do{k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&h<o);if(512&r.flags&&4&r.wrap&&(r.check=tr(r.check,n,h,i)),o-=h,i+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;h=0;do{k=n[i+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&h<o);if(512&r.flags&&4&r.wrap&&(r.check=tr(r.check,n,h,i)),o-=h,i+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;l<16;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(4&r.wrap&&u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Jn;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Vn;break;case 16189:for(;l<32;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}e.adler=r.check=Wn(u),u=0,l=0,r.mode=jn;case jn:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=l,Bn;e.adler=r.check=1,r.mode=Vn;case Vn:if(t===On||t===Nn)break e;case Mn:if(r.last){u>>>=7&l,l-=7&l,r.mode=qn;break}for(;l<3;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=16193;break;case 1:if(sa(r),r.mode=Gn,t===Nn){u>>>=2,l-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=Jn}u>>>=2,l-=2;break;case 16193:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Jn;break}if(r.length=65535&u,u=0,l=0,r.mode=Kn,t===Nn)break e;case Kn:r.mode=16195;case 16195:if(h=r.length){if(h>o&&(h=o),h>c&&(h=c),0===h)break e;a.set(n.subarray(i,i+h),s),o-=h,i+=h,c-=h,s+=h,r.length-=h;break}r.mode=Vn;break;case 16196:for(;l<14;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Jn;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}r.lens[C[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,x={bits:r.lenbits},E=Tn(0,r.lens,0,19,r.lencode,0,r.work,x),r.lenbits=x.bits,E){e.msg="invalid code lengths set",r.mode=Jn;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;g=(A=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,m=65535&A,!((_=A>>>24)<=l);){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(m<16)u>>>=_,l-=_,r.lens[r.have++]=m;else{if(16===m){for(Z=_+2;l<Z;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){e.msg="invalid bit length repeat",r.mode=Jn;break}k=r.lens[r.have-1],h=3+(3&u),u>>>=2,l-=2}else if(17===m){for(Z=_+3;l<Z;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}l-=_,k=0,h=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(Z=_+7;l<Z;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}l-=_,k=0,h=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Jn;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===Jn)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Jn;break}if(r.lenbits=9,x={bits:r.lenbits},E=Tn(1,r.lens,0,r.nlen,r.lencode,0,r.work,x),r.lenbits=x.bits,E){e.msg="invalid literal/lengths set",r.mode=Jn;break}if(r.distbits=6,r.distcode=r.distdyn,x={bits:r.distbits},E=Tn(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,x),r.distbits=x.bits,E){e.msg="invalid distances set",r.mode=Jn;break}if(r.mode=Gn,t===Nn)break e;case Gn:r.mode=Yn;case Yn:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=l,En(e,f),s=e.next_out,a=e.output,c=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,l=r.bits,r.mode===Vn&&(r.back=-1);break}for(r.back=0;g=(A=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,m=65535&A,!((_=A>>>24)<=l);){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(g&&0===(240&g)){for(b=_,w=g,y=m;g=(A=r.lencode[y+((u&(1<<b+w)-1)>>b)])>>>16&255,m=65535&A,!(b+(_=A>>>24)<=l);){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,r.back+=b}if(u>>>=_,l-=_,r.back+=_,r.length=m,0===g){r.mode=16205;break}if(32&g){r.back=-1,r.mode=Vn;break}if(64&g){e.msg="invalid literal/length code",r.mode=Jn;break}r.extra=15&g,r.mode=16201;case 16201:if(r.extra){for(Z=r.extra;l<Z;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;g=(A=r.distcode[u&(1<<r.distbits)-1])>>>16&255,m=65535&A,!((_=A>>>24)<=l);){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(0===(240&g)){for(b=_,w=g,y=m;g=(A=r.distcode[y+((u&(1<<b+w)-1)>>b)])>>>16&255,m=65535&A,!(b+(_=A>>>24)<=l);){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}u>>>=b,l-=b,r.back+=b}if(u>>>=_,l-=_,r.back+=_,64&g){e.msg="invalid distance code",r.mode=Jn;break}r.offset=m,r.extra=15&g,r.mode=16203;case 16203:if(r.extra){for(Z=r.extra;l<Z;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Jn;break}r.mode=16204;case 16204:if(0===c)break e;if(h=f-c,r.offset>h){if((h=r.offset-h)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Jn;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),v=r.window}else v=a,p=s-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do{a[s++]=v[p++]}while(--h);0===r.length&&(r.mode=Yn);break;case 16205:if(0===c)break e;a[s++]=r.length,c--,r.mode=Yn;break;case qn:if(r.wrap){for(;l<32;){if(0===o)break e;o--,u|=n[i++]<<l,l+=8}if(f-=c,e.total_out+=f,r.total+=f,4&r.wrap&&f&&(e.adler=r.check=r.flags?tr(r.check,a,f,s-f):Qt(r.check,a,f,s-f)),f=c,4&r.wrap&&(r.flags?u:Wn(u))!==r.check){e.msg="incorrect data check",r.mode=Jn;break}u=0,l=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break e;o--,u+=n[i++]<<l,l+=8}if(4&r.wrap&&u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Jn;break}u=0,l=0}r.mode=16208;case 16208:E=Dn;break e;case Jn:E=Fn;break e;case 16210:return Ln;default:return Pn}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=l,(r.wsize||f!==e.avail_out&&r.mode<Jn&&(r.mode<qn||t!==In))&&oa(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,r.total+=f,4&r.wrap&&f&&(e.adler=r.check=r.flags?tr(r.check,a,f,e.next_out-f):Qt(r.check,a,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Vn?128:0)+(r.mode===Gn||r.mode===Kn?256:0),(0===d&&0===f||t===In)&&E===Rn&&(E=Un),E},inflateEnd:e=>{if(ea(e))return Pn;var t=e.state;return t.window&&(t.window=null),e.state=null,Rn},inflateGetHeader:(e,t)=>{if(ea(e))return Pn;var r=e.state;return 0===(2&r.wrap)?Pn:(r.head=t,t.done=!1,Rn)},inflateSetDictionary:(e,t)=>{var r,n=t.length;return ea(e)||0!==(r=e.state).wrap&&r.mode!==jn?Pn:r.mode===jn&&Qt(1,t,n,0)!==r.check?Fn:oa(e,t,n,n)?(r.mode=16210,Ln):(r.havedict=1,Rn)},inflateInfo:"pako inflate (from Nodeca project)"};var ua=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},la=Object.prototype.toString,da=nr.Z_NO_FLUSH,fa=nr.Z_FINISH,ha=nr.Z_OK,pa=nr.Z_STREAM_END,va=nr.Z_NEED_DICT,_a=nr.Z_STREAM_ERROR,ga=nr.Z_DATA_ERROR,ma=nr.Z_MEM_ERROR;function ba(e){this.options=rn.assign({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cn,this.strm.avail_out=0;var r=ca.inflateInit2(this.strm,t.windowBits);if(r!==ha)throw new Error(rr[r]);if(this.header=new ua,ca.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=on.string2buf(t.dictionary):"[object ArrayBuffer]"===la.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=ca.inflateSetDictionary(this.strm,t.dictionary))!==ha))throw new Error(rr[r])}function wa(e,t){var r=new ba(t);if(r.push(e),r.err)throw r.msg||rr[r.err];return r.result}ba.prototype.push=function(e,t){var r,n,a,i=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?fa:da,"[object ArrayBuffer]"===la.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(r=ca.inflate(i,n))===va&&o&&((r=ca.inflateSetDictionary(i,o))===ha?r=ca.inflate(i,n):r===ga&&(r=va));i.avail_in>0&&r===pa&&i.state.wrap>0&&0!==e[i.next_in];)ca.inflateReset(i),r=ca.inflate(i,n);switch(r){case _a:case ga:case va:case ma:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||r===pa))if("string"===this.options.to){var c=on.utf8border(i.output,i.next_out),u=i.next_out-c,l=on.buf2string(i.output,c);i.next_out=u,i.avail_out=s-u,u&&i.output.set(i.output.subarray(c,c+u),0),this.onData(l)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(r!==ha||0!==a){if(r===pa)return r=ca.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},ba.prototype.onData=function(e){this.chunks.push(e)},ba.prototype.onEnd=function(e){e===ha&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=rn.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ya={Inflate:ba,inflate:wa,inflateRaw:function(e,t){return(t=t||{}).raw=!0,wa(e,t)},ungzip:wa,constants:nr},ka=yn.gzip,Ea=ya.ungzip,xa=r(63091),Za=r(67159),Aa=Object.defineProperty,Sa=(e,t)=>{for(var r in t)Aa(e,r,{get:t[r],enumerable:!0})};Sa({},{API_VERSION:()=>Qa,BN_FEE_TRANSACTION_VERSION_1:()=>qa,BN_FEE_TRANSACTION_VERSION_2:()=>Ja,BN_TRANSACTION_VERSION_1:()=>Ga,BN_TRANSACTION_VERSION_2:()=>Ya,BaseUrl:()=>ei,HEX_STR_TRANSACTION_VERSION_1:()=>Ma,HEX_STR_TRANSACTION_VERSION_2:()=>Ka,IS_BROWSER:()=>Ca,MASK_250:()=>Xa,MASK_251:()=>$a,NetworkName:()=>ti,RPC_GOERLI_NODES:()=>ii,RPC_MAINNET_NODES:()=>si,StarknetChainId:()=>ri,TEXT_TO_FELT_MAX_LEN:()=>Va,TransactionHashPrefix:()=>ni,UDC:()=>ai,ZERO:()=>Wa});Sa({},{IS_BROWSER:()=>Ca,addHexPrefix:()=>Fa,arrayBufferToString:()=>Ia,atobUniversal:()=>Ra,btoaUniversal:()=>Da,buf2hex:()=>Ba,calcByteLength:()=>Ua,padLeft:()=>La,pascalToSnake:()=>ja,removeHexPrefix:()=>Pa,sanitizeBytes:()=>za,sanitizeHex:()=>Ha,stringToArrayBuffer:()=>Na,utf8ToArray:()=>Oa});var Ca="undefined"!==typeof window,Ta="0";function Ia(e){return new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),"")}function Oa(e){return(new TextEncoder).encode(e)}function Na(e){return Oa(e)}function Ra(e){return d.base64.decode(e)}function Da(e){return d.base64.encode(new Uint8Array(e))}function Ba(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function Pa(e){return e.replace(/^0x/i,"")}function Fa(e){return"0x".concat(Pa(e))}function La(e,t){return function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ta,a=t-e.length,i=e;if(a>0){var s=n.repeat(a);i=r?s+e:e+s}return i}(e,t,!0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ta)}function Ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=e.length,n=r%t;return n?(r-n)/t*t+t:r}function za(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ta;return La(e,Ua(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:8),t)}function Ha(e){return(e=za(e=Pa(e),2))&&(e=Fa(e)),e}var ja=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e,Va=31,Ma="0x1",Ka="0x2",Ga=1n,Ya=2n,qa=2n**128n+Ga,Ja=2n**128n+Ya,Wa=0n,Xa=2n**250n-1n,$a=2n**251n,Qa=Wa,ei=(e=>(e.SN_MAIN="https://alpha-mainnet.starknet.io",e.SN_GOERLI="https://alpha4.starknet.io",e))(ei||{}),ti=(e=>(e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e))(ti||{}),ri=(e=>(e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e))(ri||{}),ni=(e=>(e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572",e))(ni||{}),ai={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},ii=["https://starknet-testnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/goerli-juno/v0_5"],si=["https://starknet-mainnet.public.blastapi.io/rpc/v0.5","https://limited-rpc.nethermind.io/mainnet-juno/v0_5"];Sa({},{BlockStatus:()=>_i,BlockTag:()=>gi,EntryPointType:()=>di,Litteral:()=>li,RPC:()=>mi,SIMULATION_FLAG:()=>oi,Sequencer:()=>Ti,TransactionExecutionStatus:()=>vi,TransactionFinalityStatus:()=>pi,TransactionStatus:()=>hi,TransactionType:()=>fi,Uint:()=>ui,ValidateType:()=>ci});var oi=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_EXECUTE="SKIP_EXECUTE",e))(oi||{}),ci=(e=>(e.DEPLOY="DEPLOY",e.CALL="CALL",e.INVOKE="INVOKE",e))(ci||{}),ui=(e=>(e.u8="core::integer::u8",e.u16="core::integer::u16",e.u32="core::integer::u32",e.u64="core::integer::u64",e.u128="core::integer::u128",e.u256="core::integer::u256",e))(ui||{}),li=(e=>(e.ClassHash="core::starknet::class_hash::ClassHash",e.ContractAddress="core::starknet::contract_address::ContractAddress",e))(li||{}),di=(e=>(e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR",e))(di||{}),fi=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE_FUNCTION",e))(fi||{}),hi=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED",e.REVERTED="REVERTED",e))(hi||{}),pi=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(pi||{}),vi=(e=>(e.REJECTED="REJECTED",e.REVERTED="REVERTED",e.SUCCEEDED="SUCCEEDED",e))(vi||{}),_i=(e=>(e.PENDING="PENDING",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.REJECTED="REJECTED",e))(_i||{}),gi=(e=>(e.pending="pending",e.latest="latest",e))(gi||{}),mi={};Sa(mi,{EBlockTag:()=>Si,EDataAvailabilityMode:()=>Ci,ESimulationFlag:()=>Ei,ETransactionExecutionStatus:()=>Ai,ETransactionFinalityStatus:()=>Zi,ETransactionStatus:()=>xi,ETransactionType:()=>ki,Errors:()=>wi,JRPC:()=>bi,SPEC:()=>yi});var bi={},wi={},yi={},ki=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE",e.L1_HANDLER="L1_HANDLER",e))(ki||{}),Ei=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",e))(Ei||{}),xi=(e=>(e.RECEIVED="RECEIVED",e.REJECTED="REJECTED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(xi||{}),Zi=(e=>(e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(Zi||{}),Ai=(e=>(e.SUCCEEDED="SUCCEEDED",e.REVERTED="REVERTED",e))(Ai||{}),Si=(e=>(e.LATEST="latest",e.PENDING="pending",e))(Si||{}),Ci=(e=>(e.L1="L1",e.L2="L2",e))(Ci||{}),Ti={};function Ii(e,t){if(!e)throw new Error(t||"Assertion failure")}var Oi={};function Ni(e){return/^0x[0-9a-f]*$/i.test(e)}function Ri(e){return BigInt(e)}function Di(e){return"bigint"===typeof e}function Bi(e){return Fa(Ri(e).toString(16))}Sa(Oi,{assertInRange:()=>zi,bigNumberishArrayToDecimalStringArray:()=>Hi,bigNumberishArrayToHexadecimalStringArray:()=>ji,cleanHex:()=>Ui,getDecimalString:()=>Mi,getHexString:()=>Ki,getHexStringArray:()=>Gi,hexToBytes:()=>qi,hexToDecimalString:()=>Li,isBigInt:()=>Di,isHex:()=>Ni,isStringWholeNumber:()=>Vi,toBigInt:()=>Ri,toCairoBool:()=>Yi,toHex:()=>Bi,toHexString:()=>Pi,toStorageKey:()=>Fi});var Pi=Bi;function Fi(e){return Fa(Ri(e).toString(16).padStart(64,"0"))}function Li(e){return BigInt(Fa(e)).toString(10)}var Ui=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");function zi(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=""===n?"invalid length":"invalid ".concat(n," length"),i=BigInt(e),s=BigInt(t),o=BigInt(r);Ii(i>=s&&i<=o,"Message not signable, ".concat(a,"."))}function Hi(e){return e.map((e=>Ri(e).toString(10)))}function ji(e){return e.map((e=>Bi(e)))}var Vi=e=>/^\d+$/.test(e);function Mi(e){if(Ni(e))return Li(e);if(Vi(e))return e;throw new Error("".concat(e," need to be hex-string or whole-number-string"))}function Ki(e){if(Ni(e))return e;if(Vi(e))return Pi(e);throw new Error("".concat(e," need to be hex-string or whole-number-string"))}function Gi(e){return e.map((e=>Ki(e)))}var Yi=e=>(+e).toString();function qi(e){if(!Ni(e))throw new Error("".concat(e," need to be a hex-string"));var t=Pa(e);return t.length%2!==0&&(t="0".concat(t)),(0,f.nr)(t)}function Ji(e){var t=Pa(Bi(BigInt(e))),r=t.length%2===0?t:"0".concat(t);return Fa(re(qi(Fa(r))).toString(16))}function Wi(e){var t=BigInt(function(e){return Fa(re(Oa(e)).toString(16))}(e));return t&Xa}function Xi(e){return Bi(Wi(e))}function $i(e){return Ni(e)?e:Vi(e)?Pi(e):Xi(e)}Sa({},{getSelector:()=>$i,getSelectorFromName:()=>Xi,keccakBn:()=>Ji,starknetKeccak:()=>Wi});function Qi(e){return/^[\x00-\x7F]*$/.test(e)}function es(e){return e.length<=Va}function ts(e){return/^[0-9]*$/i.test(e)}function rs(e){return"string"===typeof e&&!Ni(e)&&!Vi(e)}Sa({},{decodeShortString:()=>os,encodeShortString:()=>ss,isASCII:()=>Qi,isDecimalString:()=>ts,isLongText:()=>as,isShortString:()=>es,isShortText:()=>ns,isText:()=>rs,splitLongString:()=>is});var ns=e=>rs(e)&&es(e),as=e=>rs(e)&&!es(e);function is(e){var t=RegExp("[^]{1,".concat(Va,"}"),"g");return e.match(t)||[]}function ss(e){if(!Qi(e))throw new Error("".concat(e," is not an ASCII string"));if(!es(e))throw new Error("".concat(e," is too long"));return Fa(e.replace(/./g,(e=>e.charCodeAt(0).toString(16))))}function os(e){if(!Qi(e))throw new Error("".concat(e," is not an ASCII string"));if(Ni(e))return Pa(e).replace(/.{2}/g,(e=>String.fromCharCode(parseInt(e,16))));if(ts(e))return os("0X".concat(BigInt(e).toString(16)));throw new Error("".concat(e," is not Hex or decimal"))}var cs={};Sa(cs,{felt:()=>Bs,getAbiContractVersion:()=>Ns,getArrayType:()=>Is,isCairo1Abi:()=>Os,isCairo1Type:()=>Ts,isLen:()=>ps,isTypeArray:()=>_s,isTypeBool:()=>As,isTypeContractAddress:()=>Ss,isTypeEnum:()=>ws,isTypeEthAddress:()=>Cs,isTypeFelt:()=>vs,isTypeLitteral:()=>xs,isTypeNamedTuple:()=>ms,isTypeOption:()=>ys,isTypeResult:()=>ks,isTypeStruct:()=>bs,isTypeTuple:()=>gs,isTypeUint:()=>Es,isTypeUint256:()=>Zs,tuple:()=>Ds,uint256:()=>Rs});Sa({},{UINT_128_MAX:()=>us,UINT_256_MAX:()=>ls,bnToUint256:()=>hs,isUint256:()=>fs,uint256ToBN:()=>ds});var us=(1n<<128n)-1n,ls=(1n<<256n)-1n;function ds(e){return(Ri(e.high)<<128n)+Ri(e.low)}function fs(e){return Ri(e)<=ls}function hs(e){var t=Ri(e);if(!fs(t))throw new Error("Number is too large");return{low:Fa((t&us).toString(16)),high:Fa((t>>128n).toString(16))}}var ps=e=>/_len$/.test(e),vs=e=>"felt"===e||"core::felt252"===e,_s=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::"),gs=e=>/^\(.*\)$/i.test(e),ms=e=>/\(.*\)/i.test(e)&&e.includes(":"),bs=(e,t)=>e in t,ws=(e,t)=>e in t,ys=e=>e.startsWith("core::option::Option::"),ks=e=>e.startsWith("core::result::Result::"),Es=e=>Object.values(ui).includes(e),xs=e=>Object.values(li).includes(e),Zs=e=>"core::integer::u256"===e,As=e=>"core::bool"===e,Ss=e=>"core::starknet::contract_address::ContractAddress"===e,Cs=e=>"core::starknet::eth_address::EthAddress"===e,Ts=e=>e.includes("::"),Is=e=>Ts(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function Os(e){var t=Ns(e).cairo;if(void 0===t)throw Error("Unable to determine Cairo version");return"1"===t}function Ns(e){if(e.find((e=>"interface"===e.type)))return{cairo:"1",compiler:"2"};var t=e.find((e=>"function"===e.type&&(e.inputs.length||e.outputs.length)));if(!t)return{cairo:void 0,compiler:void 0};var r=t.inputs.length?t.inputs:t.outputs;return Ts(r[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var Rs=e=>{var t=BigInt(e);if(!fs(t))throw new Error("Number is too large");return{low:(t&us).toString(10),high:(t>>128n).toString(10)}},Ds=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.Z)({},t)};function Bs(e){if(Di(e)||"number"===typeof e&&Number.isInteger(e))return e.toString();if(rs(e)){if(!es(e))throw new Error("".concat(e," is a long string > 31 chars, felt can store short strings, split it to array of short strings"));var t=ss(e);return BigInt(t).toString()}if("string"===typeof e&&Ni(e))return BigInt(e).toString();if("string"===typeof e&&Vi(e))return e;if("boolean"===typeof e)return"".concat(+e);throw new Error("".concat(e," can't be computed by felt()"))}var Ps=class{constructor(e){var t=Object.values(e);if(0===t.length)throw new Error("This Enum must have a least 1 variant");if(1!==t.filter((e=>"undefined"!==typeof e)).length)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){var e=Object.entries(this.variant).find((e=>"undefined"!==typeof e[1]));if("undefined"!==typeof e)return e[1]}activeVariant(){var e=Object.entries(this.variant).find((e=>"undefined"!==typeof e[1]));return"undefined"===typeof e?"":e[0]}},Fs=(e=>(e[e.Some=0]="Some",e[e.None=1]="None",e))(Fs||{}),Ls=class{constructor(e,t){if(!(e in Fs))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(0===e){if("undefined"===typeof t)throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=t,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!("undefined"===typeof this.Some)}isNone(){return!0===this.None}},Us=(e=>(e[e.Ok=0]="Ok",e[e.Err=1]="Err",e))(Us||{}),zs=class{constructor(e,t){if(!(e in Us))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");0===e?(this.Ok=t,this.Err=void 0):(this.Ok=void 0,this.Err=t)}unwrap(){if("undefined"!==typeof this.Ok)return this.Ok;if("undefined"!==typeof this.Err)return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!("undefined"===typeof this.Ok)}isErr(){return!("undefined"===typeof this.Err)}},Hs=(e,t,r)=>{if(!Di(e[r]))throw new Error("Data and formatter mismatch on ".concat(r,":").concat(t[r],", expected response data ").concat(r,":").concat(e[r]," to be BN instead it is ").concat(typeof e[r]))},js=(e,t,r)=>{throw new Error("Unhandled formatter type on ".concat(r,":").concat(t[r]," for data ").concat(r,":").concat(e[r]))};function Vs(e,t,r){return Object.entries(e).reduce(((n,a)=>{var i=(0,u.Z)(a,2),s=i[0],o=i[1],c=null!==r&&void 0!==r?r:t[s];if(!(s in t)&&!r)return n[s]=o,n;if("string"===c){if(Array.isArray(e[s])){var l=Vs(e[s],e[s].map((e=>c)));return n[s]=Object.values(l).join(""),n}return Hs(e,t,s),n[s]=os(o),n}if("number"===c)return Hs(e,t,s),n[s]=Number(o),n;if("function"===typeof c)return n[s]=c(o),n;if(Array.isArray(c)){var d=Vs(e[s],c,c[0]);return n[s]=Object.values(d),n}return"object"===typeof c?(n[s]=Vs(e[s],c),n):(js(e,t,s),n)}),{})}var Ms=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce(((e,t)=>ps(t.name)?e:e+1),0)}getMethod(e){return this.abi.find((t=>t.name===e))}getLegacyFormat(){return this.abi}},Ks=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find((e=>"interface"===e.type)).items.find((t=>t.name===e))}getLegacyFormat(){return this.abi.flatMap((e=>"interface"===e.type?e.items:e))}};function Gs(e){var t=function(e){return e.find((e=>"interface"===e.type))?2:Os(e)?1:0}(e);if(0===t||1===t)return new Ms(e);if(2===t)return new Ks(e);throw Error("Unsupported ABI version ".concat(t))}function Ys(e,t,r){return"constructor"===e&&!r&&!t.length}function qs(e){if(!e.includes("("))return{subTuple:[],result:e};for(var t=[],r="",n=0;n<e.length;){if("("===e[n]){var a=1,i=n;for(n++;a;)")"===e[n]&&a--,"("===e[n]&&a++,n++;t.push(e.substring(i,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function Js(e){return Ts(e)?function(e){var t=qs(e.replace(/\s/g,"").slice(1,-1)),r=t.subTuple;return t.result.split(",").map((e=>r.length?e.replace(" ",r.shift()):e))}(e):function(e){var t=qs(e.replace(/\s/g,"").slice(1,-1)),r=t.subTuple,n=t.result.split(",").map((e=>r.length?e.replace(" ",r.shift()):e));return ms(e)&&(n=n.reduce(((e,t)=>e.concat(function(e){var t=e.substring(0,e.indexOf(":"));return{name:t,type:e.substring(t.length+1)}}(t))),[])),n}(e)}function Ws(e,t,r,n){var a=(e,t)=>{if(_s(t))return function(e,t){var r=Is(t);if("string"===typeof e)return e;return e.map((e=>a(e,r)))}(e,t);if(ws(t,n)){var o=n[t];return s(e,o)}if(gs(t))return function(e,t){var r=Js(t).reduce(((t,r,n)=>{var i=Object.keys(e),s=r=>Object.defineProperty(t,n.toString(),{enumerable:!0,value:null!==r&&void 0!==r?r:e[i[n]]}),o=null!==r&&void 0!==r&&r.type?r.type:r;return s(a(e[i[n]],o)),t}),{});return r}(e,t);if(Cs(t))return e;if(Zs(t)){var c=e;if("object"!==typeof c)return c;if(!("low"in c)||!("high"in c))throw Error("Your object includes the property : ".concat(t,", containing an Uint256 object without the 'low' and 'high' keys."));return{low:c.low,high:c.high}}if(bs(t,r)){var u=r[t].members;return i(e,u)}return e},i=(e,t)=>t.reduce(((t,r)=>{var n;if("undefined"===e[r.name]&&(Ts(r.type)||!ps(r.name)))throw Error("Your object needs a property with key : ".concat(r.name," ."));return n=a(e[r.name],r.type),Object.defineProperty(t,r.name,{enumerable:!0,value:null!==n&&void 0!==n?n:e[r.name]}),t}),{});var s=(e,t)=>{if(ks(t.name)){var r=e,n=t.name.substring(t.name.indexOf("<")+1,t.name.lastIndexOf(",")),i=t.name.substring(t.name.indexOf(",")+1,t.name.lastIndexOf(">"));return r.isOk()?new zs(0,a(e.unwrap(),n)):new zs(1,a(e.unwrap(),i))}if(ys(t.name)){var s=e,o=t.name.substring(t.name.indexOf("<")+1,t.name.lastIndexOf(">"));return s.isSome()?new Ls(0,a(s.unwrap(),o)):new Ls(1,{})}var c=e,u=Object.entries(c.variant).map((e=>{if("undefined"===typeof e[1])return e;var r=t.type.substring(t.type.lastIndexOf("<")+1,t.type.lastIndexOf(">"));return"()"===r?e:[e[0],a(c.unwrap(),r)]}));return new Ps(Object.fromEntries(u))};return t.reduce(((t,r)=>{var n;return ps(r.name)&&!Ts(r.type)||(n=a(e[r.name],r.type),Object.defineProperty(t,r.name,{enumerable:!0,value:n})),t}),{})}function Xs(e,t){if(!0===Zs(e)){var r=Rs(t);return[Bs(r.low),Bs(r.high)]}return Bs(t)}function $s(e){if("object"===typeof e){var t=e.low,r=e.high;return[Bs(t),Bs(r)]}var n=Rs(e);return[Bs(n.low),Bs(n.high)]}function Qs(e,t,r,n){if(void 0===e)throw Error("Missing parameter for type ".concat(t));if(Array.isArray(e)){var a=[];a.push(Bs(e.length));var i=Is(t);return e.reduce(((e,t)=>e.concat(Qs(t,i,r,n))),a)}if(r[t]&&r[t].members.length){if(Zs(t))return $s(e);if("core::starknet::eth_address::EthAddress"===t)return Xs(t,e);var s=r[t].members,o=e;return s.reduce(((e,t)=>e.concat(Qs(o[t.name],t.type,r,n))),[])}if(gs(t)){var c=function(e,t){var r=Js(t),n=Object.values(e);if(n.length!==r.length)throw Error("ParseTuple: provided and expected abi tuple size do not match.\n      provided: ".concat(n," \n      expected: ").concat(r));return r.map(((e,t)=>{var r;return{element:n[t],type:null!==(r=e.type)&&void 0!==r?r:e}}))}(e,t);return c.reduce(((e,t)=>{var a=Qs(t.element,t.type,r,n);return e.concat(a)}),[])}if(Zs(t))return $s(e);if(ws(t,n)){var u=n[t].variants;if(ys(t)){var l=e;if(l.isSome()){var d=u.find((e=>"Some"===e.name));if("undefined"===typeof d)throw Error("Error in abi : Option has no 'Some' variant.");var f=d.type;if("()"===f)return(0).toString();var h=Qs(l.unwrap(),f,r,n);return Array.isArray(h)?[(0).toString(),...h]:[(0).toString(),h]}return 1..toString()}if(ks(t)){var p=e;if(p.isOk()){var v=u.find((e=>"Ok"===e.name));if("undefined"===typeof v)throw Error("Error in abi : Result has no 'Ok' variant.");var _=v.type;if("()"===_)return(0).toString();var g=Qs(p.unwrap(),_,r,n);return Array.isArray(g)?[(0).toString(),...g]:[(0).toString(),g]}var m=u.find((e=>"Err"===e.name));if("undefined"===typeof m)throw Error("Error in abi : Result has no 'Err' variant.");var b=m.type;if("()"===b)return 1..toString();var w=Qs(p.unwrap(),b,r,n);return Array.isArray(w)?[1..toString(),...w]:[1..toString(),w]}var y=e,k=y.activeVariant(),E=u.find((e=>e.name===k));if("undefined"===typeof E)throw Error("Not find in abi : Enum has no '".concat(k,"' variant."));var x=E.type,Z=u.findIndex((e=>e.name===k));if("()"===x)return Z.toString();var A=Qs(y.unwrap(),x,r,n);return Array.isArray(A)?[Z.toString(),...A]:[Z.toString(),A]}if("object"===typeof e)throw Error("Parameter ".concat(e," do not align with abi parameter ").concat(t));return Xs(t,e)}function eo(e,t){var r;switch(!0){case As(e):return r=t.next().value,Boolean(BigInt(r));case Zs(e):return ds({low:t.next().value,high:t.next().value});default:return r=t.next().value,BigInt(r)}}function to(e,t,r,n){if("()"===t.type)return{};if(Zs(t.type))return ds({low:e.next().value,high:e.next().value});if(_s(t.type)){for(var a=[],i={name:"",type:Is(t.type)},s=BigInt(e.next().value);a.length<s;)a.push(to(e,i,r,n));return a}if(r&&t.type in r&&r[t.type])return"core::starknet::eth_address::EthAddress"===t.type?eo(t.type,e):r[t.type].members.reduce(((t,a)=>(t[a.name]=to(e,a,r,n),t)),{});if(n&&t.type in n&&n[t.type]){var o,c=Number(e.next().value),u=n[t.type].variants.reduce(((t,a,i)=>i===c?(t[a.name]=to(e,{name:"",type:a.type},r,n),t):(t[a.name]=void 0,t)),{});if(t.type.startsWith("core::option::Option")){var l=0===c?u.Some:void 0;return new Ls(c,l)}return t.type.startsWith("core::result::Result")?(o=0===c?u.Ok:u.Err,new zs(c,o)):new Ps(u)}if(gs(t.type))return Js(t.type).reduce(((t,a,i)=>{var s=null!==a&&void 0!==a&&a.name?a.name:i,o={name:s,type:null!==a&&void 0!==a&&a.type?a.type:a};return t[s]=to(e,o,r,n),t}),{});if(_s(t.type)){for(var d=[],f={name:"",type:Is(t.type)},h=BigInt(e.next().value);d.length<h;)d.push(to(e,f,r,n));return d}return eo(t.type,e)}function ro(e,t,r,n,a){var i,s=t.name,o=t.type;switch(!0){case ps(s):return i=e.next().value,BigInt(i);case r&&o in r||gs(o):case n&&ws(o,n):return to(e,t,r,n);case _s(o):if(Ts(o))return to(e,t,r,n);var c=[];if(a&&a["".concat(s,"_len")])for(var u=a["".concat(s,"_len")];c.length<u;)c.push(to(e,{name:s,type:t.type.replace("*","")},r,n));return c;default:return eo(o,e)}}var no=(e,t)=>{if(Ii("string"===typeof e||"number"===typeof e||"bigint"===typeof e,"Validate: arg ".concat(t.name," should be a felt typed as (String, Number or BigInt)")),"string"!==typeof e||Ni(e)){var r=BigInt(e.toString(10));Ii(r>=0n&&r<=2n**252n-1n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0, 2^252-1]"))}},ao=(e,t)=>{"number"===typeof e&&Ii(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),Ii("string"===typeof e||"number"===typeof e||"bigint"===typeof e||"object"===typeof e&&"low"in e&&"high"in e,"Validate: arg ".concat(t.name," of cairo type ").concat(t.type," should be type (String, Number or BigInt), but is ").concat(typeof e," ").concat(e,"."));var r="object"===typeof e?ds(e):Ri(e);switch(t.type){case"core::integer::u8":Ii(r>=0n&&r<=255n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0 - 255]"));break;case"core::integer::u16":Ii(r>=0n&&r<=65535n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0, 65535]"));break;case"core::integer::u32":Ii(r>=0n&&r<=4294967295n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0, 4294967295]"));break;case"core::integer::u64":Ii(r>=0n&&r<=2n**64n-1n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0, 2^64-1]"));break;case"core::integer::u128":Ii(r>=0n&&r<=2n**128n-1n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0, 2^128-1]"));break;case"core::integer::u256":Ii(r>=0n&&r<=2n**256n-1n,"Validate: arg ".concat(t.name," is ").concat(t.type," 0 - 2^256-1"));break;case"core::starknet::class_hash::ClassHash":case"core::starknet::contract_address::ContractAddress":Ii(r>=0n&&r<=2n**252n-1n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0, 2^252-1]"))}},io=(e,t)=>{Ii("boolean"===typeof e,"Validate: arg ".concat(t.name," of cairo type ").concat(t.type," should be type (Boolean)"))},so=(e,t,r)=>{if("core::integer::u256"!==t.type)if("core::starknet::eth_address::EthAddress"!==t.type)Ii("object"===typeof e&&!Array.isArray(e),"Validate: arg ".concat(t.name," is cairo type struct (").concat(t.type,"), and should be defined as js object (not array)")),r[t.type].members.forEach((r=>{var n=r.name;Ii(Object.keys(e).includes(n),"Validate: arg ".concat(t.name," should have a property ").concat(n))}));else{Ii("object"!==typeof e,"EthAdress type is waiting a BigNumberish. Got ".concat(e));var n=BigInt(e.toString(10));Ii(n>=0n&&n<=2n**160n-1n,"Validate: arg ".concat(t.name," cairo typed ").concat(t.type," should be in range [0, 2^160-1]"))}else ao(e,t)},oo=(e,t)=>{Ii("object"===typeof e&&!Array.isArray(e),"Validate: arg ".concat(t.name," is cairo type Enum (").concat(t.type,"), and should be defined as js object (not array)"));var r=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),n=[...Object.getOwnPropertyNames(e),...r];if(!(ys(t.type)&&n.includes("isSome")&&n.includes("isNone"))&&!(ks(t.type)&&n.includes("isOk")&&n.includes("isErr"))&&(!n.includes("variant")||!n.includes("activeVariant")))throw new Error("Validate Enum: argument ".concat(t.name,", type ").concat(t.type,", value received ").concat(e,", is not an Enum."))},co=(e,t)=>{Ii("object"===typeof e&&!Array.isArray(e),"Validate: arg ".concat(t.name," should be a tuple (defined as object)"))},uo=(e,t,r,n)=>{var a=Is(t.type);if(!vs(a)||!as(e))switch(Ii(Array.isArray(e),"Validate: arg ".concat(t.name," should be an Array")),!0){case vs(a):e.forEach((e=>no(e,t)));break;case gs(a):e.forEach((e=>co(e,{name:t.name,type:a})));break;case _s(a):e.forEach((e=>uo(e,{name:"",type:a},r,n)));break;case bs(a,r):e.forEach((e=>so(e,{name:t.name,type:a},r)));break;case ws(a,n):e.forEach((e=>oo(e,{name:t.name,type:a})));break;case Es(a)||xs(a):e.forEach((e=>ao(e,t)));break;case As(a):e.forEach((e=>io(e,t)));break;default:throw new Error("Validate Unhandled: argument ".concat(t.name,", type ").concat(t.type,", value ").concat(e))}};function lo(e,t,r,n){e.inputs.reduce(((e,a)=>{var i=t[e];switch(!0){case ps(a.name):return e;case vs(a.type):no(i,a);break;case Es(a.type)||xs(a.type):ao(i,a);break;case As(a.type):io(i,a);break;case _s(a.type):uo(i,a,r,n);break;case bs(a.type,r):so(i,a,r);break;case ws(a.type,n):oo(i,a);break;case gs(a.type):co(i,a);break;default:throw new Error("Validate Unhandled: argument ".concat(a.name,", type ").concat(a.type,", value ").concat(i))}return e+1}),0)}var fo=class{constructor(e){this.structs=fo.getAbiStruct(e),this.enums=fo.getAbiEnum(e),this.parser=Gs(e),this.abi=this.parser.getLegacyFormat()}validate(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];"DEPLOY"!==e&&Ii(this.abi.filter((t=>{if("function"!==t.type)return!1;var r="view"===t.stateMutability||"view"===t.state_mutability;return"INVOKE"===e?!r:r})).map((e=>e.name)).includes(t),"".concat("INVOKE"===e?"invocable":"viewable"," method not found in abi"));var n=this.abi.find((r=>"DEPLOY"===e?r.name===t&&"constructor"===r.type:r.name===t&&"function"===r.type));if(!Ys(t,r,n)){var a=this.parser.methodInputsLength(n);if(r.length!==a)throw Error("Invalid number of arguments, expected ".concat(a," arguments, but got ").concat(r.length));lo(n,r,this.structs,this.enums)}}compile(e,t){var r,n=this.abi.find((t=>t.name===e));if(Ys(e,t,n))return[];if(Array.isArray(t))r=t;else{var a=Ws(t,n.inputs,this.structs,this.enums);lo(n,r=Object.values(a),this.structs,this.enums)}var i=r[Symbol.iterator](),s=n.inputs.reduce(((e,t)=>ps(t.name)&&!Ts(t.type)?e:e.concat(function(e,t,r,n){var a=t.name,i=t.type,s=e.next().value;switch(!0){case _s(i):if(!Array.isArray(s)&&!rs(s))throw Error("ABI expected parameter ".concat(a," to be array or long string, got ").concat(s));return"string"===typeof s&&(s=is(s)),Qs(s,t.type,r,n);case"core::starknet::eth_address::EthAddress"===i:return Xs(i,s);case bs(i,r)||gs(i)||Zs(i):case ws(i,n):return Qs(s,i,r,n);default:return Xs(i,s)}}(i,t,this.structs,this.enums))),[]);return Object.defineProperty(s,"__compiled__",{enumerable:!1,writable:!1,value:!0}),s}static compile(e){var t,r=e=>{var t=Object.fromEntries(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=Array.isArray(t)?[t.length.toString(),...t]:t;return Object.entries(n).flatMap((t=>{var a=(0,u.Z)(t,2),i=a[0],s=a[1];as(s)&&(s=is(s)),"entrypoint"===i&&(s=Xi(s));var o=Array.isArray(n)&&"0"===i?"$$len":i;if(Di(s))return[["".concat(r).concat(o),Bs(s)]];if(Object(s)===s){var c=Object.getOwnPropertyNames(Object.getPrototypeOf(s)),l=[...Object.getOwnPropertyNames(s),...c];if(l.includes("isSome")&&l.includes("isNone")){var d=s,f=d.isSome()?0:1;return d.isSome()?e({0:f,1:d.unwrap()},"".concat(r).concat(o,".")):[["".concat(r).concat(o),Bs(f)]]}if(l.includes("isOk")&&l.includes("isErr")){var h=s,p=h.isOk()?0:1;return e({0:p,1:h.unwrap()},"".concat(r).concat(o,"."))}if(l.includes("variant")&&l.includes("activeVariant")){var v=s,_=v.activeVariant(),g=Object.keys(v.variant).findIndex((e=>e===_));return"object"===typeof v.unwrap()&&0===Object.keys(v.unwrap()).length?[["".concat(r).concat(o),Bs(g)]]:e({0:g,1:v.unwrap()},"".concat(r).concat(o,"."))}return e(s,"".concat(r).concat(o,"."))}return[["".concat(r).concat(o),Bs(s)]]}))}(e));return t};if(Array.isArray(e)){var n=r((0,l.Z)({},e));t=Object.values(n)}else{var a=r(e);t=Object.values(a)}return Object.defineProperty(t,"__compiled__",{enumerable:!1,writable:!1,value:!0}),t}parse(e,t){var r=this.abi.find((t=>t.name===e)).outputs,n=t.flat()[Symbol.iterator](),a=r.flat().reduce(((e,t,r)=>{var a,i=null!==(a=t.name)&&void 0!==a?a:r;return e[i]=ro(n,t,this.structs,this.enums,e),e[i]&&e["".concat(i,"_len")]&&delete e["".concat(i,"_len")],e}),{});return 1===Object.keys(a).length&&0 in a?a[0]:a}format(e,t,r){return Vs(this.parse(e,t),r)}static getAbiStruct(e){return e.filter((e=>"struct"===e.type)).reduce(((e,t)=>(0,l.Z)((0,l.Z)({},e),{},{[t.name]:t})),{})}static getAbiEnum(e){var t=e.filter((e=>"enum"===e.type)).reduce(((e,t)=>(0,l.Z)((0,l.Z)({},e),{},{[t.name]:t})),{});return delete t["core::bool"],t}static toCalldata(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return fo.compile(e)}static toHex(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return fo.compile(e).map((e=>Bi(e)))}};Sa({},{calculateContractAddressFromHash:()=>To,calculateDeclareTransactionHash:()=>Ao,calculateDeployAccountTransactionHash:()=>So,calculateDeployTransactionHash:()=>Zo,calculateTransactionHash:()=>Co,calculateTransactionHashCommon:()=>xo,computeCompiledClassHash:()=>Bo,computeContractClassHash:()=>Lo,computeHashOnElements:()=>Eo,computeLegacyContractClassHash:()=>Ro,computeSierraContractClassHash:()=>Fo,default:()=>No,feeTransactionVersion:()=>wo,feeTransactionVersion_2:()=>yo,formatSpaces:()=>Oo,getSelector:()=>$i,getSelectorFromName:()=>Xi,getVersionsByType:()=>ko,keccakBn:()=>Ji,poseidon:()=>n,starknetKeccak:()=>Wi,transactionVersion:()=>mo,transactionVersion_2:()=>bo});Sa({},{starkCurve:()=>a,weierstrass:()=>w});Sa({},{parse:()=>po,parseAlwaysAsBig:()=>vo,stringify:()=>_o,stringifyAlwaysAsBig:()=>go});var ho=e=>{if(!ve(e))return parseFloat(e);var t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},po=e=>Fe(String(e),void 0,ho),vo=e=>Fe(String(e),void 0,Oe),_o=(e,t,r,n)=>pt(e,t,r,n),go=_o,mo=Ga,bo=Ya,wo=qa,yo=Ja;function ko(e){return"fee"===e?{v1:wo,v2:yo}:{v1:mo,v2:bo}}function Eo(e){return[...e,e.length].reduce(((e,t)=>Q(Ri(e),Ri(t))),0).toString()}function xo(e,t,r,n,a,i,s){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=Eo(a);return Eo([e,t,r,n,c,i,s,...o])}function Zo(e,t,r,n){return xo("0x6465706c6f79",r,e,Xi(arguments.length>4&&void 0!==arguments[4]?arguments[4]:"constructor"),t,0,n)}function Ao(e,t,r,n,a,i,s){return xo("0x6465636c617265",r,t,0,[e],n,a,[i,...s?[s]:[]])}function So(e,t,r,n,a,i,s,o){return xo("0x6465706c6f795f6163636f756e74",a,e,0,[t,n,...r],i,s,[o])}function Co(e,t,r,n,a,i){return xo("0x696e766f6b65",t,e,0,r,n,a,[i])}function To(e,t,r,n){var a=Eo(fo.compile(r));return Eo([Bs("0x535441524b4e45545f434f4e54524143545f41444452455353"),n,e,t,a])}function Io(e,t){return"attributes"===e||"accessible_scopes"===e?Array.isArray(t)&&0===t.length?void 0:t:"debug_info"===e?null:null===t?void 0:t}function Oo(e){var t,r=!1,n=[],a=(0,c.Z)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;'"'===i&&!1===(n.length>0&&"\\"===n.slice(-1)[0])&&(r=!r),r?n.push(i):n.push(":"===i?": ":","===i?", ":i)}}catch(Nr){a.e(Nr)}finally{a.f()}return n.join("")}function No(e){var t=e.abi,r=e.program,n=Oo(_o({abi:t,program:r},Io));return Fa(re(Oa(n)).toString(16))}function Ro(e){var t="string"===typeof e?po(e):e,r=Bi(Qa),n=Eo(t.entry_points_by_type.EXTERNAL.flatMap((e=>[e.selector,e.offset]))),a=Eo(t.entry_points_by_type.L1_HANDLER.flatMap((e=>[e.selector,e.offset]))),i=Eo(t.entry_points_by_type.CONSTRUCTOR.flatMap((e=>[e.selector,e.offset]))),s=Eo(t.program.builtins.map((e=>ss(e)))),o=No(t),c=Eo(t.program.data);return Eo([r,n,a,i,s,o,c])}function Do(e){var t=e.flatMap((e=>{return[BigInt(e.selector),BigInt(e.offset),(t=e.builtins,pe(t.flatMap((e=>BigInt(ss(e))))))];var t}));return pe(t)}function Bo(e){var t=BigInt(ss("COMPILED_CLASS_V1")),r=Do(e.entry_points_by_type.EXTERNAL),n=Do(e.entry_points_by_type.L1_HANDLER),a=Do(e.entry_points_by_type.CONSTRUCTOR),i=pe(e.bytecode.map((e=>BigInt(e))));return Bi(pe([t,r,n,a,i]))}function Po(e){return pe(e.flatMap((e=>[BigInt(e.selector),BigInt(e.function_idx)])))}function Fo(e){var t=BigInt(ss("CONTRACT_CLASS_V0.1.0")),r=Po(e.entry_points_by_type.EXTERNAL),n=Po(e.entry_points_by_type.L1_HANDLER),a=Po(e.entry_points_by_type.CONSTRUCTOR),i=function(e){var t=Oo(_o(e.abi,null));return BigInt(Fa(re(Oa(t)).toString(16)))}(e),s=pe(e.sierra_program.map((e=>BigInt(e))));return Bi(pe([t,r,n,a,i,s]))}function Lo(e){var t="string"===typeof e?po(e):e;return"sierra_program"in t?Fo(t):Ro(t)}function Uo(e){var t="string"===typeof e?e:_o(e);return Da(ka(t))}function zo(e){if(Array.isArray(e))return e;var t=Ia(Ea(Ra(e)));return po(t)}function Ho(){return V(U.randomPrivateKey())}function jo(e){return Fa(e).toLowerCase()}function Vo(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map((e=>Bi(e)));try{var t=e.r,r=e.s;return[Bi(t),Bi(r)]}catch(n){throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function Mo(e){return Hi(Vo(e))}function Ko(e){return ji(Vo(e))}function Go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,r=Math.round(100*(1+t));return Ri(e)*Ri(r)/100n}function Yo(e){return"sierra_program"in("string"===typeof e?po(e):e)}Sa({},{compressProgram:()=>Uo,decompressProgram:()=>zo,estimatedFeeToMaxFee:()=>Go,formatSignature:()=>Vo,makeAddress:()=>jo,randomAddress:()=>Ho,signatureToDecimalArray:()=>Mo,signatureToHexArray:()=>Ko});var qo="undefined"!==typeof window&&window.fetch||"undefined"!==typeof global&&global.fetch||xa;function Jo(e){return new Promise((t=>{setTimeout(t,e)}))}function Wo(e){var t=(0,l.Z)({},e);return delete t.sierra_program_debug_info,t.abi=Oo(_o(e.abi)),t.sierra_program=Oo(_o(e.sierra_program)),t.sierra_program=Uo(t.sierra_program),t}function Xo(e){var t="string"===typeof e?po(e):e;return Yo(e)?Wo(t):(0,l.Z)((0,l.Z)({},t),"program"in t&&{program:Uo(t.program)})}Sa({},{createSierraContractClass:()=>Wo,parseContract:()=>Xo,wait:()=>Jo});var $o=class{parseGetBlockResponse(e){return{timestamp:e.timestamp,block_hash:"block_hash"in e?e.block_hash:"",block_number:"block_number"in e?e.block_number:-1,new_root:"new_root"in e?e.new_root:"",parent_hash:e.parent_hash,status:"status"in e?e.status:"PENDING",transactions:e.transactions}}parseGetTransactionResponse(e){return{calldata:"calldata"in e?e.calldata:[],contract_address:"contract_address"in e?e.contract_address:"",sender_address:"sender_address"in e?e.sender_address:"",max_fee:"max_fee"in e?e.max_fee:"",nonce:"nonce"in e?e.nonce:"",signature:"signature"in e?e.signature:[],transaction_hash:e.transaction_hash,version:e.version}}parseFeeEstimateResponse(e){return{overall_fee:Ri(e[0].overall_fee),gas_consumed:Ri(e[0].gas_consumed),gas_price:Ri(e[0].gas_price)}}parseFeeEstimateBulkResponse(e){return e.map((e=>({overall_fee:Ri(e.overall_fee),gas_consumed:Ri(e.gas_consumed),gas_price:Ri(e.gas_price)})))}parseCallContractResponse(e){return{result:e}}parseSimulateTransactionResponse(e){return e.map((e=>(0,l.Z)((0,l.Z)({},e),{},{suggestedMaxFee:Go(BigInt(e.fee_estimation.overall_fee))})))}parseContractClassResponse(e){return(0,l.Z)((0,l.Z)({},e),{},{abi:"string"===typeof e.abi?JSON.parse(e.abi):e.abi})}};var Qo=class extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),function(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}(this,new.target.prototype),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.constructor,r=Error.captureStackTrace;r&&r(e,t)}(this)}},ec=class extends Qo{},tc=class extends ec{constructor(e,t){super(e),this.errorCode=t}},rc=class extends ec{constructor(e,t){super(e),this.errorCode=t}};Sa({},{StarknetIdContract:()=>fc,getStarknetIdContract:()=>hc,useDecoded:()=>lc,useEncoded:()=>dc});var nc="abcdefghijklmnopqrstuvwxyz0123456789-",ac=BigInt(nc.length+1),ic="\u8fd9\u6765",sc=BigInt(nc.length),oc=BigInt(ic.length),cc=BigInt(ic.length+1);function uc(e){for(var t=0;e.endsWith(ic[ic.length-1]);)e=e.substring(0,e.length-1),t+=1;return[e,t]}function lc(e){var t="";return e.forEach((e=>{for(;e!==Wa;){var r=e%ac;if(e/=ac,r===BigInt(nc.length)){var n=e/cc;if(n===Wa){var a=e%cc;e=n,t+=a===Wa?nc[0]:ic[Number(a)-1]}else{t+=ic[Number(e%oc)],e/=oc}}else t+=nc[Number(r)]}var i=uc(t),s=(0,u.Z)(i,2),o=s[0],c=s[1];c&&(t=o+(c%2===0?ic[ic.length-1].repeat(c/2-1)+ic[0]+nc[1]:ic[ic.length-1].repeat((c-1)/2+1))),t+="."})),t?t.concat("stark"):t}function dc(e){var t=BigInt(0),r=BigInt(1);if(e.endsWith(ic[0]+nc[1])){var n=uc(e.substring(0,e.length-2)),a=(0,u.Z)(n,2),i=a[0],s=a[1];e=i+ic[ic.length-1].repeat(2*(s+1))}else{var o=uc(e),c=(0,u.Z)(o,2),l=c[0],d=c[1];d&&(e=l+ic[ic.length-1].repeat(1+2*(d-1)))}for(var f=0;f<e.length;f+=1){var h=e[f],p=nc.indexOf(h),v=BigInt(nc.indexOf(h));if(-1!==p)f===e.length-1&&e[f]===nc[0]?(t+=r*sc,r*=ac,r*=ac):(t+=r*v,r*=ac);else if(-1!==ic.indexOf(h)){t+=r*sc,r*=ac;var _=(f===e.length-1?1:0)+ic.indexOf(h);t+=r*BigInt(_),r*=oc}}return t}var fc=(e=>(e.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",e.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",e))(fc||{});function hc(e){switch(e){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}function pc(e,t,r){return vc.apply(this,arguments)}function vc(){return(vc=(0,o.Z)((0,s.Z)().mark((function e(t,r,n){var a,i,o,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getChainId();case 2:return a=e.sent,i=null!==n&&void 0!==n?n:hc(a),e.prev=4,e.next=7,t.callContract({contractAddress:i,entrypoint:"address_to_domain",calldata:fo.compile({address:r})});case 7:if(o=e.sent,c=o.result.map((e=>BigInt(e))).slice(1),u=lc(c)){e.next=12;break}throw Error("Starkname not found");case 12:return e.abrupt("return",u);case 15:if(e.prev=15,e.t0=e.catch(4),!(e.t0 instanceof Error&&"Starkname not found"===e.t0.message)){e.next=19;break}throw e.t0;case 19:throw Error("Could not get stark name");case 20:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function _c(e,t,r){return gc.apply(this,arguments)}function gc(){return(gc=(0,o.Z)((0,s.Z)().mark((function e(t,r,n){var a,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getChainId();case 2:return a=e.sent,i=null!==n&&void 0!==n?n:hc(a),e.prev=4,e.next=7,t.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:fo.compile({domain:[dc(r.replace(".stark","")).toString(10)]})});case 7:return o=e.sent,e.abrupt("return",o.result[0]);case 11:throw e.prev=11,e.t0=e.catch(4),Error("Could not get address from stark name");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}var mc=Object.values(gi),bc=class{constructor(e){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(e)}setIdentifier(e){"string"===typeof e&&Ni(e)?this.hash=e:"bigint"===typeof e?this.hash=Bi(e):"number"===typeof e?this.number=e:"string"===typeof e&&mc.includes(e)?this.tag=e:this.tag="pending"}get queryIdentifier(){return null!==this.number?"blockNumber=".concat(this.number):null!==this.hash?"blockHash=".concat(this.hash):"blockNumber=".concat(this.tag)}get identifier(){return null!==this.number?{block_number:this.number}:null!==this.hash?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}get sequencerIdentifier(){var e;return null!==this.hash?{blockHash:this.hash}:{blockNumber:null!==(e=this.number)&&void 0!==e?e:this.tag}}},wc=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||console.warn("Using default public node url, please provide nodeUrl in provider options!");var t="SN_MAIN"===e?si:ii;return t[Math.floor(Math.random()*t.length)]},yc={"Content-Type":"application/json"},kc="pending",Ec=200,xc=class{constructor(e){this.responseParser=new $o,this.getBlockHashAndNumber=this.getBlockLatestAccepted,this.getStateUpdate=this.getBlockStateUpdate,this.traceBlockTransactions=this.getBlockTransactionsTraces,this.getTransactionCount=this.getBlockTransactionCount,this.traceTransaction=this.getTransactionTrace,this.getSimulateTransaction=this.simulateTransaction;var t=e||{},r=t.nodeUrl,n=t.retries,a=t.headers,i=t.blockIdentifier,s=t.chainId;Object.values(ti).includes(r)?this.nodeUrl=wc(r,null===e||void 0===e?void 0:e.default):this.nodeUrl=r||wc(void 0,null===e||void 0===e?void 0:e.default),this.retries=n||Ec,this.headers=(0,l.Z)((0,l.Z)({},yc),a),this.blockIdentifier=i||kc,this.chainId=s}fetch(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(0,l.Z)({id:r,jsonrpc:"2.0",method:e},t&&{params:t});return qo(this.nodeUrl,{method:"POST",body:_o(n),headers:this.headers})}errorHandler(e,t,r,n){if(r){var a=r.code,i=r.message,s=r.data;throw new ec("RPC: ".concat(e," with params ").concat(_o(t),"\n ").concat(a,": ").concat(i,": ").concat(_o(s)))}if(n instanceof ec)throw n;if(n)throw Error(n.message)}fetchEndpoint(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.fetch(e,t);case 3:return a=n.sent,n.next=6,a.json();case 6:return i=n.sent,o=i.error,c=i.result,r.errorHandler(e,t,o),n.abrupt("return",c);case 13:throw n.prev=13,n.t0=n.catch(0),r.errorHandler(e,t,null===n.t0||void 0===n.t0||null===(u=n.t0.response)||void 0===u?void 0:u.data,n.t0),n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))()}getChainId(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(r=e.chainId)||void 0===r){t.next=4;break}t.next=7;break;case 4:return t.next=6,e.fetchEndpoint("starknet_chainId");case 6:e.chainId=t.sent;case 7:return t.abrupt("return",e.chainId);case 8:case"end":return t.stop()}}),t)})))()}getSpecVersion(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchEndpoint("starknet_specVersion"));case 1:case"end":return t.stop()}}),t)})))()}getNonceForAddress(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,i=Bi(e),o=new bc(a).identifier,n.abrupt("return",r.fetchEndpoint("starknet_getNonce",{contract_address:i,block_id:o}));case 4:case"end":return n.stop()}}),n)})))()}getBlock(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,r.abrupt("return",t.getBlockWithTxHashes(n).then(t.responseParser.parseGetBlockResponse));case 2:case"end":return r.stop()}}),r)})))()}getBlockLatestAccepted(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchEndpoint("starknet_blockHashAndNumber"));case 1:case"end":return t.stop()}}),t)})))()}getBlockNumber(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchEndpoint("starknet_blockNumber"));case 1:case"end":return t.stop()}}),t)})))()}getBlockWithTxHashes(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,a=new bc(n).identifier,r.abrupt("return",t.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:a}));case 3:case"end":return r.stop()}}),r)})))()}getBlockWithTxs(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,a=new bc(n).identifier,r.abrupt("return",t.fetchEndpoint("starknet_getBlockWithTxs",{block_id:a}));case 3:case"end":return r.stop()}}),r)})))()}getBlockStateUpdate(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,a=new bc(n).identifier,r.abrupt("return",t.fetchEndpoint("starknet_getStateUpdate",{block_id:a}));case 3:case"end":return r.stop()}}),r)})))()}getBlockTransactionsTraces(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,a=new bc(n).identifier,r.abrupt("return",t.fetchEndpoint("starknet_traceBlockTransactions",{block_id:a}));case 3:case"end":return r.stop()}}),r)})))()}getBlockTransactionCount(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,a=new bc(n).identifier,r.abrupt("return",t.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:a}));case 3:case"end":return r.stop()}}),r)})))()}getPendingTransactions(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){var r,n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBlock("pending");case 2:return r=t.sent,n=r.transactions,t.abrupt("return",Promise.all(n.map((t=>e.getTransactionByHash(t)))));case 5:case"end":return t.stop()}}),t)})))()}getTransaction(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.getTransactionByHash(e).then(t.responseParser.parseGetTransactionResponse));case 1:case"end":return r.stop()}}),r)})))()}getTransactionByHash(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:n}));case 2:case"end":return r.stop()}}),r)})))()}getTransactionByBlockIdAndIndex(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new bc(e).identifier,n.abrupt("return",r.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:a,index:t}));case 2:case"end":return n.stop()}}),n)})))()}getTransactionReceipt(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:n}));case 2:case"end":return r.stop()}}),r)})))()}getTransactionTrace(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("starknet_traceTransaction",{transaction_hash:n}));case 2:case"end":return r.stop()}}),r)})))()}getTransactionStatus(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:n}));case 2:case"end":return r.stop()}}),r)})))()}simulateTransaction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l,d,f;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.blockIdentifier,i=void 0===a?r.blockIdentifier:a,o=t.skipValidate,c=void 0!==o&&o,u=t.skipFeeCharge,l=void 0===u||u,d=new bc(i).identifier,f=[],c&&f.push(mi.ESimulationFlag.SKIP_VALIDATE),l&&f.push(mi.ESimulationFlag.SKIP_FEE_CHARGE),n.abrupt("return",r.fetchEndpoint("starknet_simulateTransactions",{block_id:d,transactions:e.map((e=>r.buildTransaction(e))),simulation_flags:f}).then(r.responseParser.parseSimulateTransactionResponse));case 6:case"end":return n.stop()}}),n)})))()}waitForTransaction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l,d,f,h,p,v,_,g,m,b,w;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c=Bi(e),u=r.retries,l=!1,d=!1,f=null!==(a=null===t||void 0===t?void 0:t.retryInterval)&&void 0!==a?a:5e3,h=null!==(i=null===t||void 0===t?void 0:t.errorStates)&&void 0!==i?i:[mi.ETransactionStatus.REJECTED,mi.ETransactionExecutionStatus.REVERTED],p=null!==(o=null===t||void 0===t?void 0:t.successStates)&&void 0!==o?o:[mi.ETransactionExecutionStatus.SUCCEEDED,mi.ETransactionStatus.ACCEPTED_ON_L2,mi.ETransactionStatus.ACCEPTED_ON_L1];case 7:if(l){n.next=40;break}return n.next=10,Jo(f);case 10:return n.prev=10,n.next=13,r.getTransactionStatus(c);case 13:if(v=n.sent,_=v.execution_status,g=v.finality_status){n.next=19;break}throw new Error("waiting for transaction status");case 19:if(!p.includes(_)&&!p.includes(g)){n.next=23;break}l=!0,n.next=29;break;case 23:if(!h.includes(_)&&!h.includes(g)){n.next=29;break}throw m="".concat(_,": ").concat(g),(b=new Error(m)).response=v,d=!0,b;case 29:n.next=37;break;case 31:if(n.prev=31,n.t0=n.catch(10),!(n.t0 instanceof Error&&d)){n.next=35;break}throw n.t0;case 35:if(!(u<=0)){n.next=37;break}throw new Error("waitForTransaction timed-out with retries ".concat(r.retries));case 37:u-=1,n.next=7;break;case 40:w=null;case 41:if(null!==w){n.next=57;break}return n.prev=42,n.next=45,r.getTransactionReceipt(c);case 45:w=n.sent,n.next=52;break;case 48:if(n.prev=48,n.t1=n.catch(42),!(u<=0)){n.next=52;break}throw new Error("waitForTransaction timed-out with retries ".concat(r.retries));case 52:return u-=1,n.next=55,Jo(f);case 55:n.next=41;break;case 57:return n.abrupt("return",w);case 58:case"end":return n.stop()}}),n,null,[[10,31],[42,48]])})))()}getStorageAt(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c,u;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=Bi(e),c=Fi(t),u=new bc(i).identifier,a.abrupt("return",n.fetchEndpoint("starknet_getStorageAt",{contract_address:o,key:c,block_id:u}));case 5:case"end":return a.stop()}}),a)})))()}getClassHashAt(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,i=Bi(e),o=new bc(a).identifier,n.abrupt("return",r.fetchEndpoint("starknet_getClassHashAt",{block_id:o,contract_address:i}));case 4:case"end":return n.stop()}}),n)})))()}getClassByHash(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.getClass(e));case 1:case"end":return r.stop()}}),r)})))()}getClass(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,i=Bi(e),o=new bc(a).identifier,n.abrupt("return",r.fetchEndpoint("starknet_getClass",{class_hash:i,block_id:o}).then(r.responseParser.parseContractClassResponse));case 4:case"end":return n.stop()}}),n)})))()}getClassAt(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,i=Bi(e),o=new bc(a).identifier,n.abrupt("return",r.fetchEndpoint("starknet_getClassAt",{block_id:o,contract_address:i}).then(r.responseParser.parseContractClassResponse));case 4:case"end":return n.stop()}}),n)})))()}getCode(e,t){return(0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("RPC does not implement getCode function");case 1:case"end":return e.stop()}}),e)})))()}getContractVersion(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c,u,l,d,f;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=(i=r.length>2&&void 0!==r[2]?r[2]:{}).blockIdentifier,c=void 0===o?n.blockIdentifier:o,u=i.compiler,l=void 0===u||u,!e){a.next=7;break}return a.next=4,n.getClassAt(e,c);case 4:case 10:d=a.sent,a.next=14;break;case 7:if(!t){a.next=13;break}return a.next=10,n.getClass(t,c);case 13:throw Error("getContractVersion require contractAddress or classHash");case 14:if(!Yo(d)){a.next=19;break}if(!l){a.next=18;break}return f=Ns(d.abi),a.abrupt("return",{cairo:"1",compiler:f.compiler});case 18:return a.abrupt("return",{cairo:"1",compiler:void 0});case 19:return a.abrupt("return",{cairo:"0",compiler:"0"});case 20:case"end":return a.stop()}}),a)})))()}getEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,a.abrupt("return",n.getInvokeEstimateFee(e,t,i));case 2:case"end":return a.stop()}}),a)})))()}getInvokeEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=new bc(i).identifier,c=n.buildTransaction((0,l.Z)((0,l.Z)({type:"INVOKE_FUNCTION"},e),t),"fee"),a.abrupt("return",n.fetchEndpoint("starknet_estimateFee",{request:[c],block_id:o}).then(n.responseParser.parseFeeEstimateResponse));case 4:case"end":return a.stop()}}),a)})))()}getDeclareEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=new bc(i).identifier,c=n.buildTransaction((0,l.Z)((0,l.Z)({type:"DECLARE"},e),t),"fee"),a.abrupt("return",n.fetchEndpoint("starknet_estimateFee",{request:[c],block_id:o}).then(n.responseParser.parseFeeEstimateResponse));case 4:case"end":return a.stop()}}),a)})))()}getDeployAccountEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=new bc(i).identifier,c=n.buildTransaction((0,l.Z)((0,l.Z)({type:"DEPLOY_ACCOUNT"},e),t),"fee"),a.abrupt("return",n.fetchEndpoint("starknet_estimateFee",{request:[c],block_id:o}).then(n.responseParser.parseFeeEstimateResponse));case 4:case"end":return a.stop()}}),a)})))()}getEstimateFeeBulk(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.blockIdentifier,i=void 0===a?r.blockIdentifier:a,o=t.skipValidate,void 0!==o&&o&&console.warn("getEstimateFeeBulk RPC does not support skipValidate"),c=new bc(i).identifier,n.abrupt("return",r.fetchEndpoint("starknet_estimateFee",{request:e.map((e=>r.buildTransaction(e,"fee"))),block_id:c}).then(r.responseParser.parseFeeEstimateBulkResponse));case 4:case"end":return n.stop()}}),n)})))()}invokeFunction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:fo.toHex(e.calldata),type:mi.ETransactionType.INVOKE,max_fee:Bi(t.maxFee||0),version:"0x1",signature:Ko(e.signature),nonce:Bi(t.nonce)}}));case 1:case"end":return n.stop()}}),n)})))()}declareContract(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.contract,i=e.signature,o=e.senderAddress,c=e.compiledClassHash,Yo(a)){n.next=3;break}return n.abrupt("return",r.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:mi.ETransactionType.DECLARE,contract_class:{program:a.program,entry_points_by_type:a.entry_points_by_type,abi:a.abi},version:Ma,max_fee:Bi(t.maxFee||0),signature:Ko(i),sender_address:o,nonce:Bi(t.nonce)}}));case 3:return n.abrupt("return",r.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:mi.ETransactionType.DECLARE,contract_class:{sierra_program:zo(a.sierra_program),contract_class_version:a.contract_class_version,entry_points_by_type:a.entry_points_by_type,abi:a.abi},compiled_class_hash:c||"",version:Ka,max_fee:Bi(t.maxFee||0),signature:Ko(i),sender_address:o,nonce:Bi(t.nonce)}}));case 4:case"end":return n.stop()}}),n)})))()}deployAccountContract(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.classHash,i=e.constructorCalldata,o=e.addressSalt,c=e.signature,n.abrupt("return",r.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:fo.toHex(i||[]),class_hash:Bi(a),contract_address_salt:Bi(o||0),type:mi.ETransactionType.DEPLOY_ACCOUNT,max_fee:Bi(t.maxFee||0),version:Bi(t.version||0),signature:Ko(c),nonce:Bi(t.nonce)}}));case 2:case"end":return n.stop()}}),n)})))()}callContract(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,i=new bc(a).identifier,n.next=4,r.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:Xi(e.entrypoint),calldata:fo.toHex(e.calldata)},block_id:i});case 4:return o=n.sent,n.abrupt("return",r.responseParser.parseCallContractResponse(o));case 6:case"end":return n.stop()}}),n)})))()}estimateMessageFee(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l,d;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,i=e.from_address,o=e.to_address,c=e.entry_point_selector,u=e.payload,l={from_address:Bi(i),to_address:Bi(o),entry_point_selector:$i(c),payload:Gi(u)},d=new bc(a).identifier,n.abrupt("return",r.fetchEndpoint("starknet_estimateMessageFee",{message:l,block_id:d}));case 5:case"end":return n.stop()}}),n)})))()}getSyncingStats(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchEndpoint("starknet_syncing"));case 1:case"end":return t.stop()}}),t)})))()}getEvents(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.fetchEndpoint("starknet_getEvents",{filter:e}));case 1:case"end":return r.stop()}}),r)})))()}getStarkName(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pc(r,e,t));case 1:case"end":return n.stop()}}),n)})))()}getAddressFromStarkName(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",_c(r,e,t));case 1:case"end":return n.stop()}}),n)})))()}buildTransaction(e,t){var r=ko(t),n={signature:Ko(e.signature),nonce:Bi(e.nonce),max_fee:Bi(e.maxFee||0)};if("INVOKE_FUNCTION"===e.type)return(0,l.Z)({type:mi.ETransactionType.INVOKE,sender_address:e.contractAddress,calldata:fo.toHex(e.calldata),version:Bi(e.version||r.v1)},n);if("DECLARE"===e.type)return Yo(e.contract)?(0,l.Z)({type:e.type,contract_class:(0,l.Z)((0,l.Z)({},e.contract),{},{sierra_program:zo(e.contract.sierra_program)}),compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:Bi(e.version||r.v2)},n):(0,l.Z)({type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:Bi(e.version||r.v1)},n);if("DEPLOY_ACCOUNT"===e.type)return(0,l.Z)({type:e.type,constructor_calldata:fo.toHex(e.constructorCalldata||[]),class_hash:Bi(e.classHash),contract_address_salt:Bi(e.addressSalt||0),version:Bi(e.version||r.v1)},n);throw Error("RPC buildTransaction received unknown TransactionType")}},Zc=class{},Ac=class extends Zc{parseGetBlockResponse(e){return(0,l.Z)((0,l.Z)({},e),{},{new_root:e.state_root,parent_hash:e.parent_block_hash,transactions:Object.values(e.transactions).map((e=>"transaction_hash"in e&&e.transaction_hash)).filter(Boolean)})}parseGetTransactionResponse(e){if("NOT_RECEIVED"===e.status&&"NOT_RECEIVED"===e.finality_status)throw new ec;return(0,l.Z)((0,l.Z)({},e),{},{calldata:"calldata"in e.transaction?e.transaction.calldata:[],contract_class:"contract_class"in e.transaction?e.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in e.transaction?e.transaction.entry_point_selector:void 0,max_fee:"max_fee"in e.transaction?e.transaction.max_fee:void 0,nonce:e.transaction.nonce,sender_address:"sender_address"in e.transaction?e.transaction.sender_address:void 0,signature:"signature"in e.transaction?e.transaction.signature:void 0,transaction_hash:"transaction_hash"in e.transaction?e.transaction.transaction_hash:void 0,version:"version"in e.transaction?e.transaction.version:void 0})}parseGetTransactionReceiptResponse(e){return(0,l.Z)((0,l.Z)({},e),{},{messages_sent:e.l2_to_l1_messages},"revert_error"in e&&{revert_reason:e.revert_error})}parseFeeEstimateResponse(e){if("overall_fee"in e){var t={};try{t={gas_consumed:Ri(e.gas_usage),gas_price:Ri(e.gas_price)}}catch(r){}return(0,l.Z)({overall_fee:Ri(e.overall_fee)},t)}return{overall_fee:Ri(e.amount)}}parseFeeEstimateBulkResponse(e){return[].concat(e).map((e=>{if("overall_fee"in e){var t={};try{t={gas_consumed:Ri(e.gas_usage),gas_price:Ri(e.gas_price)}}catch(r){}return(0,l.Z)({overall_fee:Ri(e.overall_fee)},t)}return{overall_fee:Ri(e.amount)}}))}parseSimulateTransactionResponse(e){var t="overall_fee"in e.fee_estimation?e.fee_estimation.overall_fee:e.fee_estimation.amount;return[{transaction_trace:e.trace,fee_estimation:e.fee_estimation,suggestedMaxFee:Go(BigInt(t))}]}parseCallContractResponse(e){return{result:e.result}}parseInvokeFunctionResponse(e){return{transaction_hash:e.transaction_hash}}parseDeployContractResponse(e){return{transaction_hash:e.transaction_hash,contract_address:e.address}}parseDeclareContractResponse(e){return{transaction_hash:e.transaction_hash,class_hash:e.class_hash}}parseGetStateUpdateResponse(e){var t=Object.entries(e.state_diff.nonces).map((e=>{var t=(0,u.Z)(e,2);return{contract_address:t[0],nonce:t[1]}})),r=Object.entries(e.state_diff.storage_diffs).map((e=>{var t=(0,u.Z)(e,2);return{address:t[0],storage_entries:t[1]}}));return(0,l.Z)((0,l.Z)({},e),{},{state_diff:(0,l.Z)((0,l.Z)({},e.state_diff),{},{storage_diffs:r,nonces:t})})}parseContractClassResponse(e){var t=Yo(e)?e:Xo(e);return(0,l.Z)((0,l.Z)({},t),{},{abi:"string"===typeof t.abi?JSON.parse(t.abi):t.abi})}},Sc=/^(?:\w+:)?\/\/(\S+)$/,Cc=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,Tc=/^[^\s.]+\.\S{2,}$/;function Ic(e,t,r){return function(e){if(!e)return!1;if("string"!==typeof e)return!1;var t=e.match(Sc);if(!t)return!1;var r=t[1];return!!r&&!(!Cc.test(r)&&!Tc.test(r))}(r)?r:Za(e,null!==r&&void 0!==r?r:t)}var Oc={network:"SN_GOERLI",blockIdentifier:"pending"},Nc=class{constructor(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oc;this.responseParser=new Ac,"network"in t?(this.baseUrl=Nc.getNetworkFromName(t.network),this.feederGatewayUrl=Ic(this.baseUrl,"feeder_gateway"),this.gatewayUrl=Ic(this.baseUrl,"gateway")):(this.baseUrl=t.baseUrl,this.feederGatewayUrl=Ic(this.baseUrl,"feeder_gateway",t.feederGatewayUrl),this.gatewayUrl=Ic(this.baseUrl,"gateway",t.gatewayUrl)),this.chainId=null!==(e=null===t||void 0===t?void 0:t.chainId)&&void 0!==e?e:Nc.getChainIdFromBaseUrl(this.baseUrl),this.headers=t.headers,this.blockIdentifier=(null===t||void 0===t?void 0:t.blockIdentifier)||Oc.blockIdentifier}static getNetworkFromName(e){switch(e){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(e){try{return new URL(e).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch(t){return console.error("Could not parse baseUrl: ".concat(e)),"0x534e5f474f45524c49"}}getFetchUrl(e){return["add_transaction"].includes(e)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(e){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(e)?"POST":"GET"}getQueryString(e){if(void 0===(t=e)||0===Object.keys(t).length||1===Object.keys(t).length&&Object.entries(t).every((e=>{var t=(0,u.Z)(e,2),r=t[0],n=t[1];return"blockIdentifier"===r&&null===n})))return"";var t,r=Object.entries(e).map((e=>{var t=(0,u.Z)(e,2),r=t[0],n=t[1];if("blockIdentifier"===r){var a=new bc(n);return"".concat(a.queryIdentifier)}return"".concat(r,"=").concat(n)})).join("&");return"?".concat(r)}getHeaders(e){return"POST"===e?(0,l.Z)({"Content-Type":"application/json"},this.headers):this.headers}fetchEndpoint(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l,d,f,h;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(a=t.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=t[o];return c=i[0],u=i[1],l=r.getFetchUrl(e),d=r.getFetchMethod(e),f=r.getQueryString(c),h=Za(l,e,f),n.abrupt("return",r.fetch(h,{method:d,body:u}));case 7:case"end":return n.stop()}}),n)})))()}fetch(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l,d,f,h;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Ic(r.baseUrl,"",e),o=null!==(a=null===t||void 0===t?void 0:t.method)&&void 0!==a?a:"GET",c=r.getHeaders(o),u=_o(null===t||void 0===t?void 0:t.body),n.prev=4,n.next=7,qo(i,{method:o,body:u,headers:c});case 7:return l=n.sent,n.next=10,l.text();case 10:if(d=n.sent,l.ok){n.next=20;break}n.prev=12,f=po(d),n.next=19;break;case 16:throw n.prev=16,n.t0=n.catch(12),new rc(l.statusText,l.status);case 19:throw new tc(f.message,f.code);case 20:return h=null!==t&&void 0!==t&&t.parseAlwaysAsBigInt?vo:po,n.abrupt("return",h(d));case 24:if(n.prev=24,n.t1=n.catch(4),!(n.t1 instanceof Error)||n.t1 instanceof ec){n.next=28;break}throw Error("Could not ".concat(o," from endpoint `").concat(i,"`: ").concat(n.t1.message));case 28:throw n.t1;case 29:case"end":return n.stop()}}),n,null,[[4,24],[12,16]])})))()}getChainId(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve(e.chainId));case 1:case"end":return t.stop()}}),t)})))()}callContract(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.contractAddress,i=e.entrypoint,o=e.calldata,c=void 0===o?[]:o,u=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,n.abrupt("return",r.fetchEndpoint("call_contract",{blockIdentifier:u},{contract_address:a,entry_point_selector:Xi(i),calldata:fo.compile(c)}).then(r.responseParser.parseCallContractResponse));case 3:case"end":return n.stop()}}),n)})))()}getBlock(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,r.abrupt("return",t.fetchEndpoint("get_block",{blockIdentifier:n}).then(t.responseParser.parseGetBlockResponse));case 2:case"end":return r.stop()}}),r)})))()}getNonceForAddress(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,n.abrupt("return",r.fetchEndpoint("get_nonce",{contractAddress:e,blockIdentifier:a}));case 2:case"end":return n.stop()}}),n)})))()}getStorageAt(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=Ri(t).toString(10),a.abrupt("return",n.fetchEndpoint("get_storage_at",{blockIdentifier:i,contractAddress:e,key:o}));case 3:case"end":return a.stop()}}),a)})))()}getTransaction(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("get_transaction",{transactionHash:n}).then((e=>{if(1===Object.values(e).length)throw new ec(e.status);return t.responseParser.parseGetTransactionResponse(e)})));case 2:case"end":return r.stop()}}),r)})))()}getTransactionReceipt(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("get_transaction_receipt",{transactionHash:n}).then(t.responseParser.parseGetTransactionReceiptResponse));case 2:case"end":return r.stop()}}),r)})))()}getClassAt(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,n.abrupt("return",r.fetchEndpoint("get_full_contract",{blockIdentifier:a,contractAddress:e}).then(r.responseParser.parseContractClassResponse));case 2:case"end":return n.stop()}}),n)})))()}getClassHashAt(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,n.abrupt("return",r.fetchEndpoint("get_class_hash_at",{blockIdentifier:a,contractAddress:e}));case 2:case"end":return n.stop()}}),n)})))()}getClassByHash(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,n.abrupt("return",r.fetchEndpoint("get_class_by_hash",{classHash:e,blockIdentifier:a}).then(r.responseParser.parseContractClassResponse));case 2:case"end":return n.stop()}}),n)})))()}getCompiledClassByClassHash(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,n.abrupt("return",r.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:e,blockIdentifier:a}));case 2:case"end":return n.stop()}}),n)})))()}getContractVersion(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c,u,l,d,f;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=(i=r.length>2&&void 0!==r[2]?r[2]:{}).blockIdentifier,c=void 0===o?n.blockIdentifier:o,u=i.compiler,l=void 0===u||u,!e){a.next=7;break}return a.next=4,n.getClassAt(e,c);case 4:case 10:d=a.sent,a.next=14;break;case 7:if(!t){a.next=13;break}return a.next=10,n.getClassByHash(t,c);case 13:throw Error("getContractVersion require contractAddress or classHash");case 14:if(!Yo(d)){a.next=19;break}if(!l){a.next=18;break}return f=Ns(d.abi),a.abrupt("return",{cairo:"1",compiler:f.compiler});case 18:return a.abrupt("return",{cairo:"1",compiler:void 0});case 19:return a.abrupt("return",{cairo:"0",compiler:"0"});case 20:case"end":return a.stop()}}),a)})))()}invokeFunction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:e.contractAddress,calldata:fo.compile(null!==(a=e.calldata)&&void 0!==a?a:[]),signature:Mo(e.signature),nonce:Bi(t.nonce),max_fee:Bi(t.maxFee||0),version:"0x1"}).then(r.responseParser.parseInvokeFunctionResponse));case 1:case"end":return n.stop()}}),n)})))()}deployAccountContract(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.classHash,i=e.constructorCalldata,o=e.addressSalt,c=e.signature,n.abrupt("return",r.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:null!==o&&void 0!==o?o:Ho(),constructor_calldata:fo.compile(null!==i&&void 0!==i?i:[]),class_hash:Bi(a),max_fee:Bi(t.maxFee||0),version:Bi(t.version||0),nonce:Bi(t.nonce),signature:Mo(c)}).then(r.responseParser.parseDeployContractResponse));case 2:case"end":return n.stop()}}),n)})))()}declareContract(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.senderAddress,i=e.contract,o=e.signature,c=e.compiledClassHash,Yo(i)){n.next=3;break}return n.abrupt("return",r.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:i,nonce:Bi(t.nonce),signature:Mo(o),sender_address:a,max_fee:Bi(t.maxFee||0),version:Bi(mo)}).then(r.responseParser.parseDeclareContractResponse));case 3:return n.abrupt("return",r.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:a,compiled_class_hash:c,contract_class:i,nonce:Bi(t.nonce),signature:Mo(o),max_fee:Bi(t.maxFee||0),version:Bi(bo)}).then(r.responseParser.parseDeclareContractResponse));case 4:case"end":return n.stop()}}),n)})))()}getEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=r.length>3&&void 0!==r[3]&&r[3],a.abrupt("return",n.getInvokeEstimateFee(e,t,i,o));case 3:case"end":return a.stop()}}),a)})))()}getInvokeEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=r.length>3&&void 0!==r[3]&&r[3],c=n.buildTransaction((0,l.Z)((0,l.Z)({type:"INVOKE_FUNCTION"},e),t),"fee"),a.abrupt("return",n.fetchEndpoint("estimate_fee",{blockIdentifier:i,skipValidate:o},c).then(n.responseParser.parseFeeEstimateResponse));case 4:case"end":return a.stop()}}),a)})))()}getDeclareEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=r.length>3&&void 0!==r[3]&&r[3],c=n.buildTransaction((0,l.Z)((0,l.Z)({type:"DECLARE"},e),t),"fee"),a.abrupt("return",n.fetchEndpoint("estimate_fee",{blockIdentifier:i,skipValidate:o},c).then(n.responseParser.parseFeeEstimateResponse));case 4:case"end":return a.stop()}}),a)})))()}getDeployAccountEstimateFee(e,t){var r=arguments,n=this;return(0,o.Z)((0,s.Z)().mark((function a(){var i,o,c;return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:n.blockIdentifier,o=r.length>3&&void 0!==r[3]&&r[3],c=n.buildTransaction((0,l.Z)((0,l.Z)({type:"DEPLOY_ACCOUNT"},e),t),"fee"),a.abrupt("return",n.fetchEndpoint("estimate_fee",{blockIdentifier:i,skipValidate:o},c).then(n.responseParser.parseFeeEstimateResponse));case 4:case"end":return a.stop()}}),a)})))()}getEstimateFeeBulk(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.blockIdentifier,i=void 0===a?r.blockIdentifier:a,o=t.skipValidate,c=void 0!==o&&o,u=e.map((e=>r.buildTransaction(e,"fee"))),n.abrupt("return",r.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:i,skipValidate:c},u).then(r.responseParser.parseFeeEstimateBulkResponse));case 3:case"end":return n.stop()}}),n)})))()}getCode(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,n.abrupt("return",r.fetchEndpoint("get_code",{contractAddress:e,blockIdentifier:a}));case 2:case"end":return n.stop()}}),n)})))()}waitForTransaction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l,d,f,h,p,v,_;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=!1,l=0,d=null!==(a=null===t||void 0===t?void 0:t.retryInterval)&&void 0!==a?a:5e3,f=null!==(i=null===t||void 0===t?void 0:t.errorStates)&&void 0!==i?i:["REJECTED","NOT_RECEIVED","REVERTED"],h=null!==(o=null===t||void 0===t?void 0:t.successStates)&&void 0!==o?o:["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];case 5:if(u){n.next=27;break}return n.next=8,Jo(d);case 8:return n.next=10,r.getTransactionStatus(e);case 10:if(!("NOT_RECEIVED"===(c=n.sent).finality_status&&l<3)){n.next=15;break}l+=1,n.next=25;break;case 15:if(!h.includes(c.finality_status)&&!h.includes(c.execution_status)){n.next=19;break}u=!0,n.next=25;break;case 19:if(!f.includes(c.finality_status)&&!f.includes(c.execution_status)){n.next=25;break}throw p=void 0,p=c.tx_failure_reason?"".concat(c.tx_status,": ").concat(c.tx_failure_reason.code,"\n").concat(c.tx_failure_reason.error_message):c.tx_revert_reason?"".concat(c.tx_status,": ").concat(c.tx_revert_reason):c.tx_status,(v=new Error(p)).response=c,v;case 25:n.next=5;break;case 27:return n.next=29,r.getTransactionReceipt(e);case 29:return _=n.sent,n.abrupt("return",_);case 31:case"end":return n.stop()}}),n)})))()}getTransactionStatus(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("get_transaction_status",{transactionHash:n}));case 2:case"end":return r.stop()}}),r)})))()}getContractAddresses(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.fetchEndpoint("get_contract_addresses"));case 1:case"end":return t.stop()}}),t)})))()}getTransactionTrace(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Bi(e),r.abrupt("return",t.fetchEndpoint("get_transaction_trace",{transactionHash:n}));case 2:case"end":return r.stop()}}),r)})))()}estimateMessageFee(e){var t=arguments,r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.from_address,i=e.to_address,o=e.entry_point_selector,c=e.payload,u=t.length>1&&void 0!==t[1]?t[1]:r.blockIdentifier,l={from_address:Mi(a),to_address:Ki(i),entry_point_selector:$i(o),payload:Gi(c)},n.abrupt("return",r.fetchEndpoint("estimate_message_fee",{blockIdentifier:u},l));case 4:case"end":return n.stop()}}),n)})))()}getSimulateTransaction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){var a,i,o,c,u,l,d;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.blockIdentifier,i=void 0===a?r.blockIdentifier:a,o=t.skipValidate,c=void 0!==o&&o,u=t.skipExecute,l=void 0!==u&&u,e.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),l&&console.warn("Sequencer can't skip account __execute__"),d=r.buildTransaction(e[0]),n.abrupt("return",r.fetchEndpoint("simulate_transaction",{blockIdentifier:i,skipValidate:null!==c&&void 0!==c&&c},d).then(r.responseParser.parseSimulateTransactionResponse));case 5:case"end":return n.stop()}}),n)})))()}getStateUpdate(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,a=new bc(n).sequencerIdentifier,r.abrupt("return",t.fetchEndpoint("get_state_update",(0,l.Z)({},a)).then(t.responseParser.parseGetStateUpdateResponse));case 3:case"end":return r.stop()}}),r)})))()}getBlockTraces(){var e=arguments,t=this;return(0,o.Z)((0,s.Z)().mark((function r(){var n,a;return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:t.blockIdentifier,a=new bc(n).sequencerIdentifier,r.abrupt("return",t.fetchEndpoint("get_block_traces",(0,l.Z)({},a)));case 3:case"end":return r.stop()}}),r)})))()}getStarkName(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pc(r,e,t));case 1:case"end":return n.stop()}}),n)})))()}getAddressFromStarkName(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",_c(r,e,t));case 1:case"end":return n.stop()}}),n)})))()}buildTransaction(e,t){var r,n=ko(t),a={signature:Mo(e.signature),nonce:Bi(e.nonce)};if("INVOKE_FUNCTION"===e.type)return(0,l.Z)({type:e.type,sender_address:e.contractAddress,calldata:fo.compile(null!==(r=e.calldata)&&void 0!==r?r:[]),version:Bi(e.version||n.v1)},a);if("DECLARE"===e.type)return Yo(e.contract)?(0,l.Z)({type:e.type,contract_class:e.contract,compiled_class_hash:e.compiledClassHash,sender_address:e.senderAddress,version:Bi(e.version||n.v2)},a):(0,l.Z)({type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:Bi(e.version||n.v1)},a);if("DEPLOY_ACCOUNT"===e.type)return(0,l.Z)({type:e.type,constructor_calldata:fo.compile(e.constructorCalldata||[]),class_hash:Bi(e.classHash),contract_address_salt:Bi(e.addressSalt||0),version:Bi(e.version||n.v1)},a);throw Error("Sequencer buildTransaction received unknown TransactionType")}},Rc=class{constructor(e){this.provider=e instanceof Rc?e.provider:e instanceof xc||e instanceof Nc?e:e&&"rpc"in e?new xc(e.rpc):e&&"sequencer"in e?new Nc(e.sequencer):new xc}getChainId(){var e=this;return(0,o.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.provider.getChainId());case 1:case"end":return t.stop()}}),t)})))()}getBlock(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.provider.getBlock(e));case 1:case"end":return r.stop()}}),r)})))()}getClassAt(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.getClassAt(e,t));case 1:case"end":return n.stop()}}),n)})))()}getClassHashAt(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.getClassHashAt(e,t));case 1:case"end":return n.stop()}}),n)})))()}getClassByHash(e){return this.provider.getClassByHash(e)}getEstimateFee(e,t,r){var n=this;return(0,o.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n.provider.getEstimateFee(e,t,r));case 1:case"end":return a.stop()}}),a)})))()}getInvokeEstimateFee(e,t,r,n){var a=this;return(0,o.Z)((0,s.Z)().mark((function i(){return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",a.provider.getInvokeEstimateFee(e,t,r,n));case 1:case"end":return i.stop()}}),i)})))()}getEstimateFeeBulk(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.getEstimateFeeBulk(e,t));case 1:case"end":return n.stop()}}),n)})))()}getNonceForAddress(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.getNonceForAddress(e,t));case 1:case"end":return n.stop()}}),n)})))()}getStorageAt(e,t,r){var n=this;return(0,o.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n.provider.getStorageAt(e,t,r));case 1:case"end":return a.stop()}}),a)})))()}getTransaction(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.provider.getTransaction(e));case 1:case"end":return r.stop()}}),r)})))()}getTransactionReceipt(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.provider.getTransactionReceipt(e));case 1:case"end":return r.stop()}}),r)})))()}callContract(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.callContract(e,t));case 1:case"end":return n.stop()}}),n)})))()}invokeFunction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.invokeFunction(e,t));case 1:case"end":return n.stop()}}),n)})))()}deployAccountContract(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.deployAccountContract(e,t));case 1:case"end":return n.stop()}}),n)})))()}declareContract(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.declareContract(e,t));case 1:case"end":return n.stop()}}),n)})))()}getDeclareEstimateFee(e,t,r,n){var a=this;return(0,o.Z)((0,s.Z)().mark((function i(){return(0,s.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",a.provider.getDeclareEstimateFee(e,t,r,n));case 1:case"end":return i.stop()}}),i)})))()}getDeployAccountEstimateFee(e,t,r,n){return this.provider.getDeployAccountEstimateFee(e,t,r,n)}getCode(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.getCode(e,t));case 1:case"end":return n.stop()}}),n)})))()}waitForTransaction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.waitForTransaction(e,t));case 1:case"end":return n.stop()}}),n)})))()}getSimulateTransaction(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r.provider.getSimulateTransaction(e,t));case 1:case"end":return n.stop()}}),n)})))()}getStateUpdate(e){var t=this;return(0,o.Z)((0,s.Z)().mark((function r(){return(0,s.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t.provider.getStateUpdate(e));case 1:case"end":return r.stop()}}),r)})))()}getStarkName(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",pc(r,e,t));case 1:case"end":return n.stop()}}),n)})))()}getAddressFromStarkName(e,t){var r=this;return(0,o.Z)((0,s.Z)().mark((function n(){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",_c(r,e,t));case 1:case"end":return n.stop()}}),n)})))()}getContractVersion(e,t,r){var n=this;return(0,o.Z)((0,s.Z)().mark((function a(){return(0,s.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n.provider.getContractVersion(e,t,r));case 1:case"end":return a.stop()}}),a)})))()}};Sa({},{fromCallsToExecuteCalldata:()=>Bc,fromCallsToExecuteCalldataWithNonce:()=>Pc,fromCallsToExecuteCalldata_cairo1:()=>Lc,getExecuteCalldata:()=>Uc,transformCallsToMulticallArrays:()=>Dc,transformCallsToMulticallArrays_cairo1:()=>Fc});var Dc=e=>{var t=[],r=[];return e.forEach((e=>{var n=fo.compile(e.calldata||[]);t.push({to:Ri(e.contractAddress).toString(10),selector:Ri(Xi(e.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:n.length.toString()}),r.push(...n)})),{callArray:t,calldata:fo.compile({calldata:r})}},Bc=e=>{var t=Dc(e),r=t.callArray,n=t.calldata;return[...fo.compile({callArray:r}),...n]},Pc=(e,t)=>[...Bc(e),Ri(t).toString()],Fc=e=>e.map((e=>({to:Ri(e.contractAddress).toString(10),selector:Ri(Xi(e.entrypoint)).toString(10),calldata:fo.compile(e.calldata||[])}))),Lc=e=>{var t=e.map((e=>({contractAddress:e.contractAddress,entrypoint:e.entrypoint,calldata:Array.isArray(e.calldata)&&"__compiled__"in e.calldata?e.calldata:fo.compile(e.calldata)})));return fo.compile({orderCalls:t})},Uc=function(e){return"1"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0")?Lc(e):Bc(e)};Sa({},{encodeData:()=>Jc,encodeType:()=>Gc,encodeValue:()=>qc,getDependencies:()=>Kc,getMessageHash:()=>Xc,getStructHash:()=>Wc,getTypeHash:()=>Yc,isMerkleTreeType:()=>Mc,prepareSelector:()=>Vc});Sa({},{MerkleTree:()=>zc,proofMerklePath:()=>Hc});var zc=class{constructor(e){this.branches=[],this.leaves=e,this.root=this.build(e)}build(e){if(1===e.length)return e[0];e.length!==this.leaves.length&&this.branches.push(e);for(var t=[],r=0;r<e.length;r+=2)r+1===e.length?t.push(zc.hash(e[r],"0x0")):t.push(zc.hash(e[r],e[r+1]));return this.build(t)}static hash(e,t){var r=[Ri(e),Ri(t)].sort(((e,t)=>e>=t?1:-1)),n=(0,u.Z)(r,2);return Q(n[0],n[1])}getProof(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.leaves,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=n.indexOf(e);if(-1===i)throw new Error("leaf not found");if(1===n.length)return a;var s=i%2===0,o=null!==(t=s?n[i+1]:n[i-1])&&void 0!==t?t:"0x0",c=[...a,o],u=this.leaves.length===n.length?-1:this.branches.findIndex((e=>e.length===n.length)),l=null!==(r=this.branches[u+1])&&void 0!==r?r:[this.root];return this.getProof(zc.hash(s?e:o,s?o:e),l,c)}};function Hc(e,t,r){if(0===r.length)return e===t;var n=(0,i.Z)(r),a=n[0],s=n.slice(1);return Hc(e,zc.hash(t,a),s)}function jc(e){try{return Bi(e)}catch(t){if("string"===typeof e)return Bi(ss(e));throw new Error("Invalid BigNumberish: ".concat(e))}}function Vc(e){return Ni(e)?e:Xi(e)}function Mc(e){return"merkletree"===e.type}var Kc=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return"*"===r[r.length-1]&&(r=r.slice(0,-1)),n.includes(r)?n:t[r]?[r,...t[r].reduce(((r,n)=>[...r,...e(t,n.type,r).filter((e=>!r.includes(e)))]),[])]:n};var Gc=(e,t)=>{var r=Kc(e,t),n=(0,i.Z)(r),a=n[0],s=n.slice(1);return(a?[a,...s.sort()]:[]).map((t=>"".concat(t,"(").concat(e[t].map((e=>"".concat(e.name,":").concat(e.type))),")"))).join("")},Yc=(e,t)=>Xi(Gc(e,t)),qc=function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t[r])return[r,Wc(t,r,n)];if(Object.keys(t).map((e=>"".concat(e,"*"))).includes(r)){var i=n.map((e=>Wc(t,r.slice(0,-1),e)));return[r,Eo(i)]}if("merkletree"===r){var s=function(e,t){if(t.parent&&t.key){var r=e[t.parent].find((e=>e.name===t.key));if(!Mc(r))throw new Error("".concat(t.key," is not a merkle tree"));if(r.contains.endsWith("*"))throw new Error("Merkle tree contain property must not be an array but was given ".concat(t.key));return r.contains}return"raw"}(t,a),o=n.map((r=>e(t,s,r)[1]));return["felt",new zc(o).root]}return"felt*"===r?["felt*",Eo(n)]:"selector"===r?["felt",Vc(n)]:[r,jc(n)]},Jc=(e,t,r)=>{var n=e[t].reduce(((n,a)=>{var i=(0,u.Z)(n,2),s=i[0],o=i[1];if(void 0===r[a.name]||null===r[a.name])throw new Error("Cannot encode data: missing data for '".concat(a.name,"'"));var c=r[a.name],l=qc(e,a.type,c,{parent:t,key:a.name}),d=(0,u.Z)(l,2);return[[...s,d[0]],[...o,d[1]]]}),[["felt"],[Yc(e,t)]]),a=(0,u.Z)(n,2);return[a[0],a[1]]},Wc=(e,t,r)=>Eo(Jc(e,t,r)[1]),Xc=(e,t)=>{if(!(e=>{var t=e;return Boolean(t.types&&t.primaryType&&t.message)})(e))throw new Error("Typed data does not match JSON schema");return Eo([ss("StarkNet Message"),Wc(e.types,"StarkNetDomain",e.domain),t,Wc(e.types,e.primaryType,e.message)])};new Rc({rpc:{default:!0}});function $c(e){return e.filter((e=>"event"===e.type&&(e.size||"enum"!==e.kind))).reduce(((e,t)=>{var r=t.name.slice(t.name.lastIndexOf(":")+1),n=(0,l.Z)({},t);return n.name=r,(0,l.Z)((0,l.Z)({},e),{},{[Fa(re(Oa(r)).toString(16))]:n})}),{})}function Qc(e,t,r,n){return e.flat().reduce(((e,a)=>{var i,s,o=t[a.keys[0]];if(!o)return e;var c={};c[o.name]={},a.keys.shift();var u=a.keys[Symbol.iterator](),l=a.data[Symbol.iterator](),d=(null===(i=o.members)||void 0===i?void 0:i.filter((e=>"key"===e.kind)))||o.keys,f=(null===(s=o.members)||void 0===s?void 0:s.filter((e=>"data"===e.kind)))||o.data;return d.forEach((e=>{c[o.name][e.name]=ro(u,e,r,n,c[o.name])})),f.forEach((e=>{c[o.name][e.name]=ro(l,e,r,n,c[o.name])})),e.push(c),e}),[])}Sa({},{getAbiEvents:()=>$c,parseEvents:()=>Qc});function eu(e){zi(e,Wa,$a,"Starknet Address");var t=function(e){return Fa(Pa(Bi(e)).padStart(64,"0"))}(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return t}}}]);
//# sourceMappingURL=https://static-daily.okg.com/crash/okfe/defi-mode/9042/index.07381728.js.map